(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82568,e=>{"use strict";var t;e.s(["Capacitor",()=>a,"CapacitorException",()=>n,"WebPlugin",()=>i,"registerPlugin",()=>r]),function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(t||(t={}));class n extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}let a=(e=>e.Capacitor=(e=>{let a=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},i=r.Plugins=r.Plugins||{},s=()=>null!==a?a.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null==(n=null==(t=null==e?void 0:e.webkit)?void 0:t.messageHandlers)?void 0:n.bridge)?"ios":"web"})(e),o=e=>{var t;return null==(t=r.PluginHeaders)?void 0:t.find(t=>t.name===e)},l=new Map;return r.convertFileSrc||(r.convertFileSrc=e=>e),r.getPlatform=s,r.handleError=t=>e.console.error(t),r.isNativePlatform=()=>"web"!==s(),r.isPluginAvailable=e=>{let t=l.get(e);return!!((null==t?void 0:t.platforms.has(s()))||o(e))},r.registerPlugin=function(e){let c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.get(e);if(u)return console.warn('Capacitor plugin "'.concat(e,'" already registered. Cannot register plugins twice.')),u.proxy;let m=s(),p=o(e),h=async()=>(!c&&m in d?c=c="function"==typeof d[m]?await d[m]():d[m]:null!==a&&!c&&"web"in d&&(c=c="function"==typeof d.web?await d.web():d.web),c),g=a=>{let i,s=function(){for(var s=arguments.length,o=Array(s),l=0;l<s;l++)o[l]=arguments[l];let c=h().then(s=>{let l=((a,i)=>{var s,o;if(p){let t=null==p?void 0:p.methods.find(e=>i===e.name);if(t)if("promise"===t.rtype)return t=>r.nativePromise(e,i.toString(),t);else return(t,n)=>r.nativeCallback(e,i.toString(),t,n);if(a)return null==(s=a[i])?void 0:s.bind(a)}else if(a)return null==(o=a[i])?void 0:o.bind(a);else throw new n('"'.concat(e,'" plugin is not implemented on ').concat(m),t.Unimplemented)})(s,a);if(l){let e=l(...o);return i=null==e?void 0:e.remove,e}throw new n('"'.concat(e,".").concat(a,'()" is not implemented on ').concat(m),t.Unimplemented)});return"addListener"===a&&(c.remove=async()=>i()),c};return s.toString=()=>"".concat(a.toString(),"() { [capacitor code] }"),Object.defineProperty(s,"name",{value:a,writable:!1,configurable:!1}),s},f=g("addListener"),y=g("removeListener"),b=(e,t)=>{let n=f({eventName:e},t),a=async()=>{y({eventName:e,callbackId:await n},t)},r=new Promise(e=>n.then(()=>e({remove:a})));return r.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await a()},r},w=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return p?b:f;case"removeListener":return y;default:return g(t)}}});return i[e]=w,l.set(e,{name:e,proxy:w,platforms:new Set([...Object.keys(d),...p?[m]:[]])}),w},r.Exception=n,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r})(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g),r=a.registerPlugin;class i{addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);let a=this.windowListeners[e];return a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e),Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){for(let e in this.listeners={},this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){let a=this.listeners[e];if(!a){if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}return}a.forEach(e=>e(t))}hasListeners(e){var t;return!!(null==(t=this.listeners[e])?void 0:t.length)}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not implemented";return new a.Exception(e,t.Unimplemented)}unavailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not available";return new a.Exception(e,t.Unavailable)}async removeListener(e,t){let n=this.listeners[e];if(!n)return;let a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){let t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(t=>{this.notifyListeners(e,t)}))}constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}}let s=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),o=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class l extends i{async getCookies(){let e=document.cookie,t={};return e.split(";").forEach(e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=o(n).trim(),a=o(a).trim(),t[n]=a}),t}async setCookie(e){try{let t=s(e.key),n=s(e.value),a="; expires=".concat((e.expires||"").replace("expires=","")),r=(e.path||"/").replace("path=",""),i=null!=e.url&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(n||"").concat(a,"; path=").concat(r,"; ").concat(i,";")}catch(e){return Promise.reject(e)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(e){return Promise.reject(e)}}async clearCookies(){try{for(let e of document.cookie.split(";")||[])document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}r("CapacitorCookies",{web:()=>new l});let c=async e=>new Promise((t,n)=>{let a=new FileReader;a.onload=()=>{let e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)}),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);return Object.keys(e).map(e=>e.toLocaleLowerCase()).reduce((n,a,r)=>(n[a]=e[t[r]],n),{})},u=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e?Object.entries(e).reduce((e,n)=>{let a,r,[i,s]=n;return Array.isArray(s)?(r="",s.forEach(e=>{a=t?encodeURIComponent(e):e,r+="".concat(i,"=").concat(a,"&")}),r.slice(0,-1)):(a=t?encodeURIComponent(s):s,r="".concat(i,"=").concat(a)),"".concat(e,"&").concat(r)},"").substr(1):null},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=d(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){let t=new URLSearchParams;for(let[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){let t=new FormData;if(e.data instanceof FormData)e.data.forEach((e,n)=>{t.append(n,e)});else for(let n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;let a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class p extends i{async request(e){let t,n,a=m(e,e.webFetchExtra),r=u(e.params,e.shouldEncodeUrlParams),i=r?"".concat(e.url,"?").concat(r):e.url,s=await fetch(i,a),o=s.headers.get("content-type")||"",{responseType:l="text"}=s.ok?e:{};switch(o.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":n=await s.blob(),t=await c(n);break;case"json":t=await s.json();break;default:t=await s.text()}let d={};return s.headers.forEach((e,t)=>{d[t]=e}),{data:t,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}r("CapacitorHttp",{web:()=>new p})},67585,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=e.r(32061);function r(e){let{reason:t,children:n}=e;if("undefined"==typeof window)throw Object.defineProperty(new a.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}},9885,(e,t,n)=>{"use strict";function a(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"encodeURIPath",{enumerable:!0,get:function(){return a}})},52157,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadChunks",{enumerable:!0,get:function(){return o}});let a=e.r(43476),r=e.r(74080),i=e.r(63599),s=e.r(9885);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let n=i.workAsyncStorage.getStore();if(void 0===n)return null;let o=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let n of t){if(!e[n])continue;let t=e[n].files;o.push(...t)}}return 0===o.length?null:(0,a.jsx)(a.Fragment,{children:o.map(e=>{let t=n.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,r.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},69093,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});let a=e.r(43476),r=e.r(71645),i=e.r(67585),s=e.r(52157);function o(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},c=function(e){let t={...l,...e},n=(0,r.lazy)(()=>t.loader().then(o)),c=t.loading;function d(e){let o=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,d=l?r.Suspense:r.Fragment,u=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(n,{...e})]}):(0,a.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(n,{...e})});return(0,a.jsx)(d,{...l?{fallback:o}:{},children:u})}return d.displayName="LoadableComponent",d}},70703,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});let a=e.r(55682)._(e.r(69093));function r(e,t){var n;let r={};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,a.default)({...i,modules:null==(n=i.loadableGenerated)?void 0:n.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),t.exports=n.default)},52683,e=>{"use strict";e.s(["default",()=>v],52683);var t,n,a,r=e.i(43476),i=e.i(70703),s=e.i(18071),o=e.i(71645),l=e.i(25196),c=e.i(82568);let d=(0,c.registerPlugin)("Geolocation",{web:()=>e.A(33410).then(e=>new e.GeolocationWeb)});!function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];typeof window>"u"||(window.CapacitorUtils=window.CapacitorUtils||{},void 0===window.Capacitor||n?void 0!==window.cordova&&((e=window).CapacitorUtils.Synapse=new Proxy({},{get:(t,n)=>e.cordova.plugins[n]})):(t=window).CapacitorUtils.Synapse=new Proxy({},{get:(e,n)=>new Proxy({},{get:(e,a)=>(e,r,i)=>{let s=t.Capacitor.Plugins[n];return void 0===s?void i(Error("Capacitor plugin ".concat(n," not found"))):"function"!=typeof s[a]?void i(Error("Method ".concat(a," not found in Capacitor plugin ").concat(n))):void(async()=>{try{let t=await s[a](e);r(t)}catch(e){i(e)}})()}})}))}();var u=c;!function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(t||(t={})),function(e){e.Rear="REAR",e.Front="FRONT"}(n||(n={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(a||(a={}));class m extends u.WebPlugin{async getPhoto(e){return new Promise(async(n,a)=>{if(e.webUseInput||e.source===t.Photos)this.fileInputExperience(e,n,a);else if(e.source===t.Prompt){let t=document.querySelector("pwa-action-sheet");t||(t=document.createElement("pwa-action-sheet"),document.body.appendChild(t)),t.header=e.promptLabelHeader||"Photo",t.cancelable=!1,t.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],t.addEventListener("onSelection",async t=>{0===t.detail?this.fileInputExperience(e,n,a):this.cameraExperience(e,n,a)})}else this.cameraExperience(e,n,a)})}async pickImages(e){return new Promise(async(e,t)=>{this.multipleFileInputExperience(e,t)})}async cameraExperience(e,t,a){if(customElements.get("pwa-camera-modal")){let r=document.createElement("pwa-camera-modal");r.facingMode=e.direction===n.Front?"user":"environment",document.body.appendChild(r);try{await r.componentOnReady(),r.addEventListener("onPhoto",async n=>{let i=n.detail;null===i?a(new u.CapacitorException("User cancelled photos app")):i instanceof Error?a(i):t(await this._getCameraPhoto(i,e)),r.dismiss(),document.body.removeChild(r)}),r.present()}catch(n){this.fileInputExperience(e,t,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,a)}fileInputExperience(e,a,r){let i=document.querySelector("#_capacitor-camera-input"),s=()=>{var e;null==(e=i.parentNode)||e.removeChild(i)};i||((i=document.createElement("input")).id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",t=>{let n=i.files[0],r="jpeg";if("image/png"===n.type?r="png":"image/gif"===n.type&&(r="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){let t=new FileReader;t.addEventListener("load",()=>{"dataUrl"===e.resultType?a({dataUrl:t.result,format:r}):"base64"===e.resultType&&a({base64String:t.result.split(",")[1],format:r}),s()}),t.readAsDataURL(n)}else a({webPath:URL.createObjectURL(n),format:r}),s()}),i.addEventListener("cancel",e=>{r(new u.CapacitorException("User cancelled photos app")),s()})),i.accept="image/*",i.capture=!0,e.source===t.Photos||e.source===t.Prompt?i.removeAttribute("capture"):e.direction===n.Front?i.capture="user":e.direction===n.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(e,t){let n=document.querySelector("#_capacitor-camera-input-multiple"),a=()=>{var e;null==(e=n.parentNode)||e.removeChild(n)};n||((n=document.createElement("input")).id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",t=>{let r=[];for(let e=0;e<n.files.length;e++){let t=n.files[e],a="jpeg";"image/png"===t.type?a="png":"image/gif"===t.type&&(a="gif"),r.push({webPath:URL.createObjectURL(t),format:a})}e({photos:r}),a()}),n.addEventListener("cancel",e=>{t(new u.CapacitorException("User cancelled photos app")),a()})),n.accept="image/*",n.click()}_getCameraPhoto(e,t){return new Promise((n,a)=>{let r=new FileReader,i=e.type.split("/")[1];"uri"===t.resultType?n({webPath:URL.createObjectURL(e),format:i,saved:!1}):(r.readAsDataURL(e),r.onloadend=()=>{let e=r.result;"dataUrl"===t.resultType?n({dataUrl:e,format:i,saved:!1}):n({base64String:e.split(",")[1],format:i,saved:!1})},r.onerror=e=>{a(e)})})}async checkPermissions(){if("undefined"==typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new m;let p=(0,c.registerPlugin)("Camera",{web:()=>new m}),h=(0,c.registerPlugin)("PushNotifications",{});function g(e){let{onLocationUpdate:n,onImageCapture:i}=e,[s,l]=(0,o.useState)(!1),[u,m]=(0,o.useState)(null),[g,f]=(0,o.useState)(!1);(0,o.useEffect)(()=>{l(c.Capacitor.isNativePlatform()),c.Capacitor.isNativePlatform()&&y()},[]);let y=async()=>{try{await b(),await w()}catch(e){console.warn("Error initializing mobile features:",e)}},b=async()=>{try{let e=await h.requestPermissions();"granted"===e.receive&&(f(!0),await h.register(),h.addListener("registration",e=>{console.log("Push registration success, token: "+e.value)}),h.addListener("registrationError",e=>{console.error("Error on registration: "+JSON.stringify(e))}),h.addListener("pushNotificationReceived",e=>{console.log("Push notification received: ",e)}),h.addListener("pushNotificationActionPerformed",e=>{console.log("Push notification action performed",e.actionId,e.inputValue)}))}catch(e){console.warn("Push notifications not available:",e)}},w=async()=>{try{let e=await d.getCurrentPosition({enableHighAccuracy:!0,timeout:1e4}),t={latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy||0};m(t),null==n||n(t)}catch(e){console.warn("Geolocation not available:",e)}},x=async()=>{try{let e=await p.getPhoto({quality:90,allowEditing:!1,resultType:a.DataUrl,source:t.Camera});e.dataUrl&&(null==i||i(e.dataUrl))}catch(e){console.warn("Camera not available:",e)}},v=async()=>{try{let e=await p.getPhoto({quality:90,allowEditing:!1,resultType:a.DataUrl,source:t.Photos});e.dataUrl&&(null==i||i(e.dataUrl))}catch(e){console.warn("Photo gallery not available:",e)}};return s?(0,r.jsxs)("div",{className:"mobile-features bg-gls-primary/10 p-4 rounded-lg mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gls-primary mb-3",children:"ðŸ“± Funcionalidades MÃ³viles"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gls-secondary",children:"ðŸ“ UbicaciÃ³n GPS"}),u&&(0,r.jsxs)("p",{className:"text-xs text-gls-secondary/70",children:["Lat: ",u.latitude.toFixed(4),", Lng: ",u.longitude.toFixed(4)]})]}),(0,r.jsx)("button",{onClick:w,className:"btn-gls-secondary text-xs px-3 py-1",children:"Actualizar"})]}),(0,r.jsx)("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gls-secondary",children:"ðŸ”” Notificaciones"}),(0,r.jsx)("p",{className:"text-xs text-gls-secondary/70",children:g?"Activadas":"No disponibles"})]})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:x,className:"btn-gls-primary text-xs px-3 py-1 flex-1",children:"ðŸ“· Tomar Foto"}),(0,r.jsx)("button",{onClick:v,className:"btn-gls-secondary text-xs px-3 py-1 flex-1",children:"ðŸ–¼ï¸ GalerÃ­a"})]})]})]}):null}var f=e.i(22016);let y=(0,i.default)(()=>e.A(96114),{loadableGenerated:{modules:[38660]},ssr:!1}),b={"Medio ambiente":"/categorias/medio-ambiente",EducaciÃ³n:"/categorias/educacion",Salud:"/categorias/salud",Comunidad:"/categorias/comunidad",OcÃ©anos:"/categorias/oceanos",AlimentaciÃ³n:"/categorias/alimentacion"},w=["Medio ambiente","EducaciÃ³n","Salud","Comunidad","OcÃ©anos","AlimentaciÃ³n"],x=[{id:"p1",name:"ReforestaciÃ³n Urbana BerlÃ­n",category:"Medio ambiente",lat:52.52,lng:13.405,city:"BerlÃ­n",country:"Alemania",spots:50},{id:"p2",name:"Taller de RobÃ³tica Educativa",category:"EducaciÃ³n",lat:40.4168,lng:-3.7038,city:"Madrid",country:"EspaÃ±a"},{id:"p3",name:"ClÃ­nica mÃ³vil comunitaria",category:"Salud",lat:45.4642,lng:9.19,city:"MilÃ¡n",country:"Italia"},{id:"p4",name:"RecuperaciÃ³n de playas",category:"OcÃ©anos",lat:43.2965,lng:5.3698,city:"Marsella",country:"Francia"},{id:"p5",name:"Huertos urbanos",category:"AlimentaciÃ³n",lat:51.5072,lng:-.1276,city:"Londres",country:"Reino Unido"},{id:"p6",name:"Centros vecinales inclusivos",category:"Comunidad",lat:59.3293,lng:18.0686,city:"Estocolmo",country:"Suecia"}];function v(){let[e,t]=(0,o.useState)("Todas"),[n,a]=(0,o.useState)(null),[i,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(null),{t:m,locale:p}=(0,s.useI18n)();(0,o.useEffect)(()=>{!async function(){try{let e=await fetch("/api/projects");if(!e.ok)return;let t=await e.json();Array.isArray(t)&&t.length&&a(t)}catch(e){}}()},[]),(0,o.useEffect)(()=>{if(!localStorage.getItem("econexo-welcome-seen")){let e=setTimeout(()=>c(!0),1e3);return()=>clearTimeout(e)}},[]);let h=(0,o.useMemo)(()=>"Todas"===e?null!=n?n:x:(null!=n?n:x).filter(t=>t.category===e),[e,n]);return(0,r.jsxs)(r.Fragment,{children:[i&&(0,r.jsx)(l.default,{onClose:()=>{c(!1),localStorage.setItem("econexo-welcome-seen","true")}}),(0,r.jsxs)("div",{className:"layout-gls",children:[(0,r.jsx)("div",{className:"layout-gls-left",children:(0,r.jsxs)("div",{className:"max-w-2xl",children:[(0,r.jsx)(g,{onLocationUpdate:e=>{u({lat:e.latitude,lng:e.longitude}),window.dispatchEvent(new CustomEvent("econexo:center",{detail:{lat:e.latitude,lon:e.longitude}}))},onImageCapture:e=>{console.log("Image captured:",e)}}),(0,r.jsx)("p",{className:"text-sm uppercase tracking-wider text-gls-primary opacity-80 mb-4",children:m("sustainableProjectsSince2024")}),(0,r.jsxs)("h1",{className:"text-5xl font-bold text-gls-primary mb-6 leading-tight",children:[m("connectingEurope"),(0,r.jsx)("br",{}),m("transformingFuture")]}),(0,r.jsx)("p",{className:"text-lg text-gls-primary opacity-90 mb-8",children:m("discoverEnvironmentalProjects")}),(0,r.jsxs)("div",{className:"impact-stats",children:[(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-number",children:"1,247"}),(0,r.jsx)("div",{className:"stat-label",children:m("activeProjects")})]}),(0,r.jsxs)("div",{className:"stat-card",children:[(0,r.jsx)("div",{className:"stat-number",children:"15,892"}),(0,r.jsx)("div",{className:"stat-label",children:m("connectedVolunteers")})]})]})]})}),(0,r.jsx)("div",{className:"layout-gls-right",children:(0,r.jsxs)("div",{className:"max-w-sm",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gls-secondary mb-4",children:m("exploreProjects")}),(0,r.jsx)("p",{className:"text-gls-secondary mb-6",children:m("filterByCategoryAndFind")}),(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsx)("button",{className:"px-4 py-3 rounded-lg text-sm font-medium transition-all ".concat("Todas"===e?"btn-gls-primary":"bg-white/20 text-gls-secondary hover:bg-white/30"),onClick:()=>t("Todas"),children:m("all")}),w.map(t=>(0,r.jsx)(f.default,{href:b[t],className:"px-4 py-3 rounded-lg text-sm font-medium transition-all text-center block ".concat(e===t?"btn-gls-primary":"bg-white/20 text-gls-secondary hover:bg-white/30"),children:(0,s.categoryLabel)(t,p)},t))]})]})}),(0,r.jsx)("div",{className:"col-span-2 bg-ecosia-dark p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-gls-primary mb-6 text-center",children:m("sustainableProjectsMap")}),(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"relative flex items-center justify-center",style:{padding:"8px"},children:(0,r.jsx)("div",{className:"overflow-hidden border-4 border-ecosia-green shadow-xl rounded-xl",style:{height:"min(70vh, 80vw)",width:"min(70vh, 80vw)",maxWidth:"1000px",maxHeight:"600px"},children:(0,r.jsx)(y,{projects:h})})})}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("form",{onSubmit:async e=>{var t;e.preventDefault();let n=e.currentTarget.elements.namedItem("q"),a=null==n||null==(t=n.value)?void 0:t.trim();if(a)try{let e=await fetch("https://nominatim.openstreetmap.org/search?format=json&q=".concat(encodeURIComponent(a),"&limit=1&addressdetails=1"),{headers:{"Accept-Language":p},mode:"cors"});if(!e.ok)return void console.warn("Geocoding service not available");let t=await e.json(),n=Array.isArray(t)?t[0]:null;if(n){let e=parseFloat(n.lat),t=parseFloat(n.lon);window.dispatchEvent(new CustomEvent("econexo:center",{detail:{lat:e,lon:t}}))}}catch(e){console.warn("Failed to geocode location:",e)}},className:"card-ecosia flex items-center gap-3",children:[(0,r.jsx)("input",{name:"q",placeholder:m("cityPh"),className:"outline-none text-sm bg-transparent w-48 text-gls-primary font-medium placeholder-opacity-60"}),(0,r.jsx)("button",{className:"btn-gls-primary text-sm",children:m("search")}),(0,r.jsx)("button",{type:"button",className:"btn-gls-secondary text-sm",onClick:()=>window.dispatchEvent(new CustomEvent("econexo:center",{detail:{lat:50.1109,lon:8.6821}})),children:m("reset")}),(0,r.jsxs)("button",{type:"button",className:"btn-gls-secondary text-sm flex items-center gap-1",onClick:()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{let t=e.coords.latitude,n=e.coords.longitude;window.dispatchEvent(new CustomEvent("econexo:center",{detail:{lat:t,lon:n}}))})},children:[(0,r.jsx)("span",{children:"ðŸ“"}),(0,r.jsx)("span",{children:"GPS"})]})]})})]})})]})]})}},33410,e=>{e.v(t=>Promise.all(["static/chunks/0e260adb5893618e.js"].map(t=>e.l(t))).then(()=>t(17146)))},96114,e=>{e.v(t=>Promise.all(["static/chunks/5e10d0aa6eb38ceb.js","static/chunks/c61f6267802e6bf3.css"].map(t=>e.l(t))).then(()=>t(38660)))}]);