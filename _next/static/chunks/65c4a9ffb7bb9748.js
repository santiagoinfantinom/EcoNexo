(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58544,e=>{"use strict";e.s(["default",()=>r]);var a=e.i(43476),t=e.i(22016),s=e.i(71645),l=e.i(18071);function r(e){var r;let{params:i}=e,{id:n}=s.default.use(i),d="econexo:volunteers:".concat(n),{t:c}=(0,l.useI18n)(),[o,m]=(0,s.useState)({name:"",email:"",availability:"",notes:""}),[x,h]=(0,s.useState)([]),[g,b]=(0,s.useState)(!1);function u(e,a){m(t=>({...t,[e]:a}))}async function p(e){e.preventDefault();try{(await fetch("/api/volunteers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:n,name:o.name,email:o.email,availability:o.availability,notes:o.notes})})).ok}catch(e){}let a=[o,...x];h(a);try{localStorage.setItem(d,JSON.stringify(a))}catch(e){}b(!0),m({name:"",email:"",availability:"",notes:""}),setTimeout(()=>b(!1),2e3)}return(0,s.useEffect)(()=>{try{let e=localStorage.getItem(d);e&&h(JSON.parse(e))}catch(e){}},[d]),(0,a.jsxs)("div",{className:"grid gap-6 max-w-2xl",children:[(0,a.jsx)("div",{className:"grid gap-2",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold",children:c("volunteersPageTitle")})}),(0,a.jsxs)("form",{onSubmit:p,className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm",children:c("name")}),(0,a.jsx)("input",{className:"border rounded px-3 py-2",value:o.name,onChange:e=>u("name",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm",children:c("email")}),(0,a.jsx)("input",{type:"email",className:"border rounded px-3 py-2",value:o.email,onChange:e=>u("email",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm",children:c("availability")}),(0,a.jsx)("input",{className:"border rounded px-3 py-2",value:o.availability,onChange:e=>u("availability",e.target.value),placeholder:c("availabilityPh"),required:!0})]}),(0,a.jsxs)("div",{className:"grid gap-1",children:[(0,a.jsx)("label",{className:"text-sm",children:c("notes")}),(0,a.jsx)("textarea",{className:"border rounded px-3 py-2 min-h-24",value:null!=(r=o.notes)?r:"",onChange:e=>u("notes",e.target.value)})]}),(0,a.jsx)("button",{className:"bg-green-700 text-white rounded px-4 py-2 w-fit",children:c("save")}),g&&(0,a.jsx)("div",{className:"text-green-700 text-sm",children:c("saved")})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:c("localRecords")}),0===x.length?(0,a.jsx)("div",{className:"text-sm text-gray-500",children:c("noVolunteersYet")}):(0,a.jsx)("div",{className:"overflow-auto border rounded bg-white text-black",children:(0,a.jsxs)("table",{className:"min-w-full text-sm text-gray-900",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-gray-900",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left p-2 border-b text-gray-900",children:c("name")}),(0,a.jsx)("th",{className:"text-left p-2 border-b text-gray-900",children:c("email")}),(0,a.jsx)("th",{className:"text-left p-2 border-b text-gray-900",children:c("availability")}),(0,a.jsx)("th",{className:"text-left p-2 border-b text-gray-900",children:c("notes")})]})}),(0,a.jsx)("tbody",{children:x.map((e,t)=>(0,a.jsxs)("tr",{className:"odd:bg-white even:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-2 border-b text-gray-900",children:e.name}),(0,a.jsx)("td",{className:"p-2 border-b text-gray-900",children:e.email}),(0,a.jsx)("td",{className:"p-2 border-b text-gray-900",children:e.availability}),(0,a.jsx)("td",{className:"p-2 border-b text-gray-900",children:e.notes})]},t))})]})})]}),(0,a.jsx)(t.default,{href:"/projects/".concat(n),className:"text-green-700 underline w-fit",children:c("backToProject")})]})}}]);