(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75248,e=>{"use strict";e.s(["default",()=>o]);var a=e.i(43476),r=e.i(71645),s=e.i(18071),l=e.i(72299),t=e.i(84515),d=e.i(29228);function o(){let{t:e,locale:o}=(0,s.useI18n)(),{user:n,loading:i}=(0,l.useAuth)(),[g,c]=(0,r.useState)(!1),[b,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1),[p,h]=(0,r.useState)(""),f=(0,r.useRef)(null),[k,v]=(0,r.useState)({full_name:"",first_name:"",last_name:"",email:"",phone:"",birthdate:"",birth_place:"",pronouns:"",gender:"",city:"",country:"",timezone:"",about_me:"",bio:"",avatar_url:"/logo-econexo.png",passions:"",hobbies:"",interests:"",skills:"",areas_of_expertise:"",languages:"",linkedin_url:"",twitter_url:"",instagram_url:"",website_url:"",github_url:"",preferred_language:o,newsletter_subscribed:!1,notifications_enabled:!0,profile_visibility:"public"});(0,r.useEffect)(()=>{(async()=>{if(!n||!(0,t.isSupabaseConfigured)()){let e=localStorage.getItem("econexo:profile");e&&v(JSON.parse(e));return}try{let e=(0,t.getSupabase)(),{data:a,error:r}=await e.from("profiles").select("*").eq("id",n.id).single();if(r&&"PGRST116"!==r.code){console.error("Error loading profile:",r),h("Error cargando perfil");return}a&&v(e=>({...e,...a,avatar_url:a.avatar_url||"/logo-econexo.png"}))}catch(e){console.error("Error loading profile:",e),h("Error cargando perfil")}})()},[n]);let y=(e,a)=>{v(r=>({...r,[e]:a}))},j=async()=>{u(!0),h("");try{if(n&&(0,t.isSupabaseConfigured)()){let e=(0,t.getSupabase)(),{error:a}=await e.from("profiles").upsert({id:n.id,...k,updated_at:new Date().toISOString()});if(a){console.error("Error saving profile:",a),h("Error guardando perfil");return}}else localStorage.setItem("econexo:profile",JSON.stringify(k));c(!1),m(!0),setTimeout(()=>m(!1),3e3)}catch(e){console.error("Error saving profile:",e),h("Error guardando perfil")}finally{u(!1)}},N=async()=>{if(n&&(0,t.isSupabaseConfigured)())try{let e=(0,t.getSupabase)(),{data:a}=await e.from("profiles").select("*").eq("id",n.id).single();a&&v(e=>({...e,...a,avatar_url:a.avatar_url||"/logo-econexo.png"}))}catch(e){console.error("Error reloading profile:",e)}else{let e=localStorage.getItem("econexo:profile");e&&v(JSON.parse(e))}c(!1)},w=()=>{var e;null==(e=f.current)||e.click()};return i?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-6 text-white",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-green-500 rounded w-48 mb-2"}),(0,a.jsx)("div",{className:"h-4 bg-green-400 rounded w-32"})]})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsx)("div",{className:"h-32 w-32 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]})})]}):(0,a.jsxs)("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:e("myProfile")}),(0,a.jsx)("p",{className:"text-green-100 text-sm mt-1",children:g?"de"===o?"Bearbeitungsmodus":"en"===o?"Edit mode":"Modo edición":"de"===o?"Profilansicht":"en"===o?"Profile view":"Vista de perfil"})]}),(0,a.jsx)("div",{className:"flex gap-3",children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:N,className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors text-sm font-medium",children:e("cancel")}),(0,a.jsx)("button",{onClick:j,disabled:b,className:"bg-white hover:bg-green-50 text-green-600 px-4 py-2 rounded-lg transition-colors text-sm font-medium disabled:opacity-50",children:b?e("saving"+o.charAt(0).toUpperCase()+o.slice(1)):e("saveChanges")})]}):(0,a.jsx)("button",{onClick:()=>c(!0),className:"bg-white hover:bg-green-50 text-green-600 px-4 py-2 rounded-lg transition-colors text-sm font-medium",children:e("editProfile")})})]})}),x&&(0,a.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 mx-6 mt-4 rounded",children:e("profileUpdated")}),p&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{children:"⚠️"}),(0,a.jsx)("span",{children:p})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,a.jsxs)("div",{className:"relative",children:[k.avatar_url&&"/logo-econexo.png"!==k.avatar_url?(0,a.jsx)("img",{src:k.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-green-200 dark:border-green-700"}):(0,a.jsx)(d.default,{className:"w-32 h-32",size:128}),g&&(0,a.jsx)("button",{onClick:w,className:"absolute bottom-0 right-0 bg-green-600 text-white rounded-full p-2 hover:bg-green-700 transition-colors shadow-lg",title:e("changePhoto"),children:"📷"})]}),(0,a.jsx)("input",{ref:f,type:"file",accept:"image/*",onChange:a=>{var r;let s=null==(r=a.target.files)?void 0:r[0];if(s){if(!s.type.startsWith("image/"))return void alert(e("pleaseSelectValidImage"+o.charAt(0).toUpperCase()+o.slice(1)));if(s.size>5242880)return void alert(e("imageTooLarge"+o.charAt(0).toUpperCase()+o.slice(1)));let a=new FileReader;a.onload=e=>{var a;let r=null==(a=e.target)?void 0:a.result;if(r){let e={...k,profilePhoto:r};v(e),localStorage.setItem("econexo:profile",JSON.stringify(e)),m(!0),setTimeout(()=>m(!1),3e3),console.log("Photo uploaded and saved successfully")}},a.onerror=()=>{alert(e("errorLoadingImage"+o.charAt(0).toUpperCase()+o.slice(1)))},a.readAsDataURL(s)}},className:"hidden"}),g&&(0,a.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,a.jsx)("button",{onClick:w,className:"text-sm text-green-600 hover:text-green-700 font-medium",children:e("changePhoto")}),k.avatar_url&&"/logo-econexo.png"!==k.avatar_url&&(0,a.jsx)("button",{onClick:()=>{let e={...k,avatar_url:"/logo-econexo.png"};v(e),n&&(0,t.isSupabaseConfigured)()||localStorage.setItem("econexo:profile",JSON.stringify(e)),m(!0),setTimeout(()=>m(!1),2e3),console.log("Switched back to EcoNexo logo")},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:e("useLogo")})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("personalInformation")}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("firstName")}),(0,a.jsx)("input",{type:"text",value:k.first_name,onChange:e=>y("first_name",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"Vorname eingeben":"en"===o?"Enter first name":"Ingresa tu nombre"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("lastName")}),(0,a.jsx)("input",{type:"text",value:k.last_name,onChange:e=>y("last_name",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"Nachname eingeben":"en"===o?"Enter last name":"Ingresa tu apellido"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("email")}),(0,a.jsx)("input",{type:"email",value:k.email,onChange:e=>y("email",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"E-Mail eingeben":"en"===o?"Enter email":"Ingresa tu email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("phone")}),(0,a.jsx)("input",{type:"tel",value:k.phone,onChange:e=>y("phone",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"Telefon eingeben":"en"===o?"Enter phone":"Ingresa tu teléfono"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("birthdate")}),(0,a.jsx)("input",{type:"date",value:k.birthdate,onChange:e=>y("birthdate",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("pronouns")}),(0,a.jsxs)("select",{value:k.pronouns,onChange:e=>y("pronouns",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",children:[(0,a.jsx)("option",{value:"",children:e("selectPronouns")}),(0,a.jsx)("option",{value:"él/ella",children:e("heShe")}),(0,a.jsx)("option",{value:"they/them",children:e("theyThem")}),(0,a.jsx)("option",{value:"er/sie",children:e("erSie")}),(0,a.jsx)("option",{value:"other",children:e("other")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("gender")}),(0,a.jsxs)("select",{value:k.gender,onChange:e=>y("gender",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",children:[(0,a.jsx)("option",{value:"",children:e("selectGender")}),(0,a.jsx)("option",{value:"male",children:e("male")}),(0,a.jsx)("option",{value:"female",children:e("female")}),(0,a.jsx)("option",{value:"non-binary",children:e("nonBinary")}),(0,a.jsx)("option",{value:"prefer-not-to-say",children:e("preferNotToSay")})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("city")}),(0,a.jsx)("input",{type:"text",value:k.city,onChange:e=>y("city",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"Stadt eingeben":"en"===o?"Enter city":"Ingresa tu ciudad"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("country")}),(0,a.jsx)("input",{type:"text",value:k.country,onChange:e=>y("country",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"Land eingeben":"en"===o?"Enter country":"Ingresa tu país"})]})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("aboutMe")}),(0,a.jsx)("textarea",{value:k.about_me,onChange:e=>y("about_me",e.target.value),disabled:!g,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===o?"Erzähle etwas über dich...":"en"===o?"Tell us about yourself...":"Cuéntanos sobre ti..."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("passions")}),(0,a.jsx)("textarea",{value:k.passions,onChange:e=>y("passions",e.target.value),disabled:!g,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:e("passionsPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("areasOfExpertise")}),(0,a.jsx)("textarea",{value:k.areas_of_expertise,onChange:e=>y("areas_of_expertise",e.target.value),disabled:!g,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:e("expertisePlaceholder")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("hobbies")}),(0,a.jsx)("textarea",{value:k.hobbies,onChange:e=>y("hobbies",e.target.value),disabled:!g,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:e("hobbiesPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("interests")}),(0,a.jsx)("textarea",{value:k.interests,onChange:e=>y("interests",e.target.value),disabled:!g,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:e("interestsPlaceholder")})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("skills")}),(0,a.jsx)("textarea",{value:k.skills,onChange:e=>y("skills",e.target.value),disabled:!g,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:e("skillsPlaceholder")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("languages")}),(0,a.jsx)("textarea",{value:k.languages,onChange:e=>y("languages",e.target.value),disabled:!g,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:e("languagesPlaceholder")})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:e("socialMedia")}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("linkedin")}),(0,a.jsx)("input",{type:"url",value:k.linkedin_url,onChange:e=>y("linkedin_url",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://linkedin.com/in/tu-perfil"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("twitter")}),(0,a.jsx)("input",{type:"url",value:k.twitter_url,onChange:e=>y("twitter_url",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://twitter.com/tu-usuario"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("instagram")}),(0,a.jsx)("input",{type:"url",value:k.instagram_url,onChange:e=>y("instagram_url",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://instagram.com/tu-usuario"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:e("website")}),(0,a.jsx)("input",{type:"url",value:k.website_url,onChange:e=>y("website_url",e.target.value),disabled:!g,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://tu-sitio-web.com"})]})]})]})]})]})}}]);