(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17570,e=>{"use strict";e.s(["default",()=>o],17570);var t=e.i(43476),a=e.i(71645),r=e.i(22016);function s(e){let{href:a="/",label:s,className:i}=e;return(0,t.jsxs)(r.default,{href:a,"aria-label":s,className:"inline-flex items-center gap-2 px-4 py-2 rounded-full border border-emerald-600 text-emerald-700 bg-emerald-50 hover:bg-emerald-600 hover:text-white transition-colors ".concat(null!=i?i:""),children:["← ",s]})}var i=e.i(18071);function d(e){let{src:a,alt:r,fallbackSrc:s,className:i}=e,d=[a,s,"/window.svg"],l=0;return(0,t.jsx)("img",{src:d[0],alt:r,loading:"lazy",className:i,referrerPolicy:"no-referrer",decoding:"async",crossOrigin:"anonymous",onError:e=>{let t=e.currentTarget;(l+=1)<d.length&&(t.src=d[l])}})}var l=e.i(72299),n=e.i(84515),c=e.i(75679);function o(e){let{id:o,details:m,impactTags:g,paypalLink:x,stripeLink:p}=e,{t:u,locale:h}=(0,i.useI18n)(),{user:f}=(0,l.useAuth)(),[b,v]=a.default.useState(!1);a.default.useEffect(()=>{(async()=>{try{let e=localStorage.getItem("econexo:saved");if(e){let t=JSON.parse(e).some(e=>"project"===e.type&&e.id===o);if(!f||!(0,n.isSupabaseConfigured)())return void v(t)}}catch(e){}if(!f||!(0,n.isSupabaseConfigured)())return;let e=(0,n.getSupabase)();try{let t=localStorage.getItem("econexo:saved");if(t){let a=JSON.parse(t).map(e=>({user_id:f.id,item_type:e.type,item_id:e.id}));a.length&&(await e.from("favorites").upsert(a,{onConflict:"user_id,item_type,item_id"}),localStorage.removeItem("econexo:saved"))}}catch(e){}let{data:t}=await e.from("favorites").select("id").eq("user_id",f.id).eq("item_type","project").eq("item_id",o).maybeSingle();v(!!t)})()},[f,o]);let j=async()=>{if(!f||!(0,n.isSupabaseConfigured)()){try{let e=localStorage.getItem("econexo:saved"),t=e?JSON.parse(e):[],a=t.findIndex(e=>"project"===e.type&&e.id===o);if(a>=0){t.splice(a,1),v(!1);try{(0,c.trackEvent)("save_item",{type:"project",id:o,action:"remove",auth:0})}catch(e){}}else{t.push({type:"project",id:o}),v(!0);try{(0,c.trackEvent)("save_item",{type:"project",id:o,action:"add",auth:0})}catch(e){}}localStorage.setItem("econexo:saved",JSON.stringify(t))}catch(e){}return}let e=(0,n.getSupabase)();if(b){await e.from("favorites").delete().eq("user_id",f.id).eq("item_type","project").eq("item_id",o),v(!1);try{(0,c.trackEvent)("save_item",{type:"project",id:o,action:"remove",auth:1})}catch(e){}}else{let{error:t}=await e.from("favorites").insert({user_id:f.id,item_type:"project",item_id:o});t||v(!0);try{(0,c.trackEvent)("save_item",{type:"project",id:o,action:"add",auth:1})}catch(e){}}},y=Math.min(100,Math.round(m.budgetRaisedEur/m.budgetGoalEur*100));return(0,t.jsxs)("div",{className:"grid gap-6 max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"grid gap-2 place-items-center text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-semibold",children:(0,i.projectNameLabel)(m.id,m.name,h)}),(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,i.locationLabel)(m.city,h),", ",(0,i.locationLabel)(m.country,h)," · ",u("category"),": ",(0,i.categoryLabel)(m.category,h)]}),m.address&&(0,t.jsx)("div",{className:"text-xs text-gray-500",children:m.address})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-[2fr,3fr] gap-6 items-start",children:[(0,t.jsx)("div",{className:"border rounded overflow-hidden bg-white shadow-sm",children:(0,t.jsx)(d,{src:m.image,alt:m.name,fallbackSrc:"/window.svg",className:"w-full h-72 object-cover bg-gray-100"})}),(0,t.jsxs)("div",{className:"grid gap-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 place-items-center sm:place-items-stretch",children:[(0,t.jsxs)("div",{className:"border rounded p-5 bg-white shadow-sm",children:[(0,t.jsx)("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:u("volunteers")}),(0,t.jsx)("div",{className:"text-4xl font-black text-gray-50 bg-gray-900 inline-block px-3 rounded leading-tight",children:m.volunteers.toLocaleString("es-ES")})]}),(0,t.jsxs)("div",{className:"border rounded p-5 bg-white shadow-sm",children:[(0,t.jsx)("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:u("raised")}),(0,t.jsxs)("div",{className:"text-4xl font-black text-white bg-green-700 inline-block px-3 rounded leading-tight",children:["€ ",m.budgetRaisedEur.toLocaleString("es-ES")]})]}),(0,t.jsxs)("div",{className:"border rounded p-5 bg-white shadow-sm",children:[(0,t.jsx)("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:u("goal")}),(0,t.jsxs)("div",{className:"text-4xl font-black text-gray-900 bg-amber-200 inline-block px-3 rounded leading-tight",children:["€ ",m.budgetGoalEur.toLocaleString("es-ES")]})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("div",{className:"h-3 w-full bg-gray-300 rounded",children:(0,t.jsx)("div",{className:"h-3 bg-green-700 rounded",style:{width:"".concat(y,"%")},"aria-label":u("progressReached")})}),(0,t.jsxs)("div",{className:"text-base font-bold text-white",children:[y,"% ",u("reached")]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("div",{className:"text-base font-semibold text-white",children:u("description")}),(0,t.jsx)("p",{className:"text-[16px] leading-relaxed text-white",children:"en"===h&&m.description_en?m.description_en:"de"===h&&m.description_de?m.description_de:(0,i.projectDescriptionLabel)(m.id,m.description,h)})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("div",{className:"text-base font-semibold text-white",children:u("impact")}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:g.map((e,a)=>(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full border ".concat(e.color," inline-flex items-center gap-1 text-sm"),children:[(0,t.jsx)("span",{children:e.emoji}),(0,t.jsx)("span",{children:(0,i.impactTagLabel)(e.label,h)})]},a))})]}),"number"==typeof m.spots&&(0,t.jsxs)("div",{className:"text-sm text-white",children:[u("availableSpots"),": ",(0,t.jsx)("span",{className:"font-extrabold text-gray-50 bg-gray-900 px-2 rounded",children:m.spots})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-center sm:justify-start",children:[(0,t.jsx)(r.default,{href:"/projects/".concat(m.id,"/voluntariado"),className:"bg-green-700 text-white rounded px-4 py-2 font-medium",children:u("beVolunteer")}),(0,t.jsx)("a",{href:x,target:"_blank",rel:"noopener noreferrer",className:"border rounded px-4 py-2 font-medium hover:bg-gray-50",children:u("donatePaypal")}),(0,t.jsx)("a",{href:p,target:"_blank",rel:"noopener noreferrer",className:"border rounded px-4 py-2 font-medium hover:bg-gray-50",children:u("donateStripe")}),m.info_url&&(0,t.jsx)("a",{href:m.info_url,target:"_blank",rel:"noopener noreferrer",className:"border rounded px-4 py-2 font-medium hover:bg-gray-50",children:"de"===h?"Mehr Info":"en"===h?"More info":"Más info"}),(0,t.jsx)("button",{onClick:j,className:"rounded px-4 py-2 font-medium ".concat(b?"bg-amber-200":"border hover:bg-gray-50"),children:b?"★ "+u("saved"):"☆ "+u("save")})]})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)(s,{href:"/",label:u("backToMap")})})]})}},74304,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),a=e.i(22016),r=e.i(18071);function s(){let{t:e,locale:s}=(0,r.useI18n)();return(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:"es"===s?"Proyecto no encontrado":"de"===s?"Projekt nicht gefunden":"Project not found"}),(0,t.jsx)(a.default,{href:"/",className:"text-green-700 underline w-fit",children:"es"===s?"Volver al mapa":"de"===s?"Zurück zur Karte":"Back to map"})]})}}]);