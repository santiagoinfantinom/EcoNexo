(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,27035,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(43476),s=e.i(71645),a=e.i(18071);function l(){let{t:e}=(0,a.useI18n)(),[l,r]=(0,s.useState)([]),[n,o]=(0,s.useState)(""),c=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null==(e=c.current)||e.scrollIntoView({behavior:"smooth"})},[l.length]),(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/messages?user=demo-user",{cache:"no-store"});e.ok&&r(await e.json())}catch(e){}})()},[]);let i=async()=>{let e=n.trim();if(!e)return;let t={id:String(Math.random()),from:"demo-user",to:"Ana",text:e,ts:Date.now()};r(e=>[...e,t]),o("");try{await fetch("/api/messages",{method:"POST",body:JSON.stringify({...t,ts:new Date(t.ts).toISOString()})})}catch(e){}};return(0,t.jsxs)("div",{className:"container mx-auto max-w-3xl",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:e("chats")}),(0,t.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-4 h-[60vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-2",children:[l.map(e=>(0,t.jsxs)("div",{className:"max-w-[75%] ".concat("TÃº"===e.from?"ml-auto bg-green-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100"," px-3 py-2 rounded-lg"),children:[(0,t.jsx)("div",{className:"text-xs opacity-80 mb-1",children:e.from}),(0,t.jsx)("div",{children:e.text})]},e.id)),(0,t.jsx)("div",{ref:c})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)("input",{value:n,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&i()},className:"flex-1 border rounded px-3 py-2 dark:bg-slate-700 dark:text-slate-100",placeholder:e("typeMessage")}),(0,t.jsx)("button",{onClick:i,className:"px-4 py-2 bg-green-600 text-white rounded",children:e("send")})]})]})]})}}]);