module.exports=[37330,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(53407);function e(){let{t:a}=(0,d.useI18n)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(""),i=(0,c.useRef)(null);(0,c.useEffect)(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[e.length]),(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/messages?user=demo-user",{cache:"no-store"});a.ok&&f(await a.json())}catch{}})()},[]);let j=async()=>{let a=g.trim();if(!a)return;let b={id:String(Math.random()),from:"demo-user",to:"Ana",text:a,ts:Date.now()};f(a=>[...a,b]),h("");try{await fetch("/api/messages",{method:"POST",body:JSON.stringify({...b,ts:new Date(b.ts).toISOString()})})}catch{}};return(0,b.jsxs)("div",{className:"container mx-auto max-w-3xl",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:a("chats")}),(0,b.jsxs)("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow p-4 h-[60vh] flex flex-col",children:[(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-2",children:[e.map(a=>(0,b.jsxs)("div",{className:`max-w-[75%] ${"TÃº"===a.from?"ml-auto bg-green-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-900 dark:text-slate-100"} px-3 py-2 rounded-lg`,children:[(0,b.jsx)("div",{className:"text-xs opacity-80 mb-1",children:a.from}),(0,b.jsx)("div",{children:a.text})]},a.id)),(0,b.jsx)("div",{ref:i})]}),(0,b.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,b.jsx)("input",{value:g,onChange:a=>h(a.target.value),onKeyDown:a=>{"Enter"===a.key&&j()},className:"flex-1 border rounded px-3 py-2 dark:bg-slate-700 dark:text-slate-100",placeholder:a("typeMessage")}),(0,b.jsx)("button",{onClick:j,className:"px-4 py-2 bg-green-600 text-white rounded",children:a("send")})]})]})]})}}];

//# sourceMappingURL=src_app_chats_page_tsx_d95836ac._.js.map