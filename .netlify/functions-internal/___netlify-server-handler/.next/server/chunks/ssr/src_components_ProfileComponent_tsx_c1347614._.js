module.exports=[50707,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(53407),e=a.i(22720),f=a.i(88045),g=a.i(15912);function h(){let{t:a,locale:h}=(0,d.useI18n)(),{user:i,loading:j}=(0,e.useAuth)(),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),s=(0,c.useRef)(null),[t,u]=(0,c.useState)({full_name:"",first_name:"",last_name:"",email:"",phone:"",birthdate:"",birth_place:"",pronouns:"",gender:"",city:"",country:"",timezone:"",about_me:"",bio:"",avatar_url:"/logo-econexo.png",passions:"",hobbies:"",interests:"",skills:"",areas_of_expertise:"",languages:"",linkedin_url:"",twitter_url:"",instagram_url:"",website_url:"",github_url:"",preferred_language:h,newsletter_subscribed:!1,notifications_enabled:!0,profile_visibility:"public"});(0,c.useEffect)(()=>{(async()=>{if(!i||!(0,f.isSupabaseConfigured)()){let a=localStorage.getItem("econexo:profile");a&&u(JSON.parse(a));return}try{let a=(0,f.getSupabase)(),{data:b,error:c}=await a.from("profiles").select("*").eq("id",i.id).single();if(c&&"PGRST116"!==c.code){console.error("Error loading profile:",c),r("Error cargando perfil");return}b&&u(a=>({...a,...b,avatar_url:b.avatar_url||"/logo-econexo.png"}))}catch(a){console.error("Error loading profile:",a),r("Error cargando perfil")}})()},[i]);let v=(a,b)=>{u(c=>({...c,[a]:b}))},w=async()=>{n(!0),r("");try{if(i&&(0,f.isSupabaseConfigured)()){let a=(0,f.getSupabase)(),{error:b}=await a.from("profiles").upsert({id:i.id,...t,updated_at:new Date().toISOString()});if(b){console.error("Error saving profile:",b),r("Error guardando perfil");return}}else localStorage.setItem("econexo:profile",JSON.stringify(t));l(!1),p(!0),setTimeout(()=>p(!1),3e3)}catch(a){console.error("Error saving profile:",a),r("Error guardando perfil")}finally{n(!1)}},x=async()=>{if(i&&(0,f.isSupabaseConfigured)())try{let a=(0,f.getSupabase)(),{data:b}=await a.from("profiles").select("*").eq("id",i.id).single();b&&u(a=>({...a,...b,avatar_url:b.avatar_url||"/logo-econexo.png"}))}catch(a){console.error("Error reloading profile:",a)}else{let a=localStorage.getItem("econexo:profile");a&&u(JSON.parse(a))}l(!1)},y=()=>{s.current?.click()};return j?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-6 text-white",children:(0,b.jsxs)("div",{className:"animate-pulse",children:[(0,b.jsx)("div",{className:"h-8 bg-green-500 rounded w-48 mb-2"}),(0,b.jsx)("div",{className:"h-4 bg-green-400 rounded w-32"})]})}),(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,b.jsx)("div",{className:"h-32 w-32 bg-gray-200 dark:bg-gray-700 rounded-full mx-auto"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]})})]}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto bg-white dark:bg-slate-800 rounded-xl shadow-lg overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-6 py-6 text-white",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:a("myProfile")}),(0,b.jsx)("p",{className:"text-green-100 text-sm mt-1",children:k?"de"===h?"Bearbeitungsmodus":"en"===h?"Edit mode":"Modo ediciÃ³n":"de"===h?"Profilansicht":"en"===h?"Profile view":"Vista de perfil"})]}),(0,b.jsx)("div",{className:"flex gap-3",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:x,className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition-colors text-sm font-medium",children:a("cancel")}),(0,b.jsx)("button",{onClick:w,disabled:m,className:"bg-white hover:bg-green-50 text-green-600 px-4 py-2 rounded-lg transition-colors text-sm font-medium disabled:opacity-50",children:m?a("saving"+h.charAt(0).toUpperCase()+h.slice(1)):a("saveChanges")})]}):(0,b.jsx)("button",{onClick:()=>l(!0),className:"bg-white hover:bg-green-50 text-green-600 px-4 py-2 rounded-lg transition-colors text-sm font-medium",children:a("editProfile")})})]})}),o&&(0,b.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 mx-6 mt-4 rounded",children:a("profileUpdated")}),q&&(0,b.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 mx-6 mt-4 rounded",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{children:"âš ï¸"}),(0,b.jsx)("span",{children:q})]})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,b.jsxs)("div",{className:"relative",children:[t.avatar_url&&"/logo-econexo.png"!==t.avatar_url?(0,b.jsx)("img",{src:t.avatar_url,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-green-200 dark:border-green-700"}):(0,b.jsx)(g.default,{className:"w-32 h-32",size:128}),k&&(0,b.jsx)("button",{onClick:y,className:"absolute bottom-0 right-0 bg-green-600 text-white rounded-full p-2 hover:bg-green-700 transition-colors shadow-lg",title:a("changePhoto"),children:"ðŸ“·"})]}),(0,b.jsx)("input",{ref:s,type:"file",accept:"image/*",onChange:b=>{let c=b.target.files?.[0];if(c){if(!c.type.startsWith("image/"))return void alert(a("pleaseSelectValidImage"+h.charAt(0).toUpperCase()+h.slice(1)));if(c.size>5242880)return void alert(a("imageTooLarge"+h.charAt(0).toUpperCase()+h.slice(1)));let b=new FileReader;b.onload=a=>{let b=a.target?.result;if(b){let a={...t,profilePhoto:b};u(a),localStorage.setItem("econexo:profile",JSON.stringify(a)),p(!0),setTimeout(()=>p(!1),3e3),console.log("Photo uploaded and saved successfully")}},b.onerror=()=>{alert(a("errorLoadingImage"+h.charAt(0).toUpperCase()+h.slice(1)))},b.readAsDataURL(c)}},className:"hidden"}),k&&(0,b.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,b.jsx)("button",{onClick:y,className:"text-sm text-green-600 hover:text-green-700 font-medium",children:a("changePhoto")}),t.avatar_url&&"/logo-econexo.png"!==t.avatar_url&&(0,b.jsx)("button",{onClick:()=>{let a={...t,avatar_url:"/logo-econexo.png"};u(a),i&&(0,f.isSupabaseConfigured)()||localStorage.setItem("econexo:profile",JSON.stringify(a)),p(!0),setTimeout(()=>p(!1),2e3),console.log("Switched back to EcoNexo logo")},className:"text-sm text-gray-500 hover:text-gray-700 font-medium",children:a("useLogo")})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("personalInformation")}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("firstName")}),(0,b.jsx)("input",{type:"text",value:t.first_name,onChange:a=>v("first_name",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"Vorname eingeben":"en"===h?"Enter first name":"Ingresa tu nombre"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("lastName")}),(0,b.jsx)("input",{type:"text",value:t.last_name,onChange:a=>v("last_name",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"Nachname eingeben":"en"===h?"Enter last name":"Ingresa tu apellido"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("email")}),(0,b.jsx)("input",{type:"email",value:t.email,onChange:a=>v("email",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"E-Mail eingeben":"en"===h?"Enter email":"Ingresa tu email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("phone")}),(0,b.jsx)("input",{type:"tel",value:t.phone,onChange:a=>v("phone",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"Telefon eingeben":"en"===h?"Enter phone":"Ingresa tu telÃ©fono"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("birthdate")}),(0,b.jsx)("input",{type:"date",value:t.birthdate,onChange:a=>v("birthdate",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("pronouns")}),(0,b.jsxs)("select",{value:t.pronouns,onChange:a=>v("pronouns",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",children:[(0,b.jsx)("option",{value:"",children:a("selectPronouns")}),(0,b.jsx)("option",{value:"Ã©l/ella",children:a("heShe")}),(0,b.jsx)("option",{value:"they/them",children:a("theyThem")}),(0,b.jsx)("option",{value:"er/sie",children:a("erSie")}),(0,b.jsx)("option",{value:"other",children:a("other")})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("gender")}),(0,b.jsxs)("select",{value:t.gender,onChange:a=>v("gender",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",children:[(0,b.jsx)("option",{value:"",children:a("selectGender")}),(0,b.jsx)("option",{value:"male",children:a("male")}),(0,b.jsx)("option",{value:"female",children:a("female")}),(0,b.jsx)("option",{value:"non-binary",children:a("nonBinary")}),(0,b.jsx)("option",{value:"prefer-not-to-say",children:a("preferNotToSay")})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("city")}),(0,b.jsx)("input",{type:"text",value:t.city,onChange:a=>v("city",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"Stadt eingeben":"en"===h?"Enter city":"Ingresa tu ciudad"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("country")}),(0,b.jsx)("input",{type:"text",value:t.country,onChange:a=>v("country",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"Land eingeben":"en"===h?"Enter country":"Ingresa tu paÃ­s"})]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("aboutMe")}),(0,b.jsx)("textarea",{value:t.about_me,onChange:a=>v("about_me",a.target.value),disabled:!k,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"de"===h?"ErzÃ¤hle etwas Ã¼ber dich...":"en"===h?"Tell us about yourself...":"CuÃ©ntanos sobre ti..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("passions")}),(0,b.jsx)("textarea",{value:t.passions,onChange:a=>v("passions",a.target.value),disabled:!k,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:a("passionsPlaceholder")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("areasOfExpertise")}),(0,b.jsx)("textarea",{value:t.areas_of_expertise,onChange:a=>v("areas_of_expertise",a.target.value),disabled:!k,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:a("expertisePlaceholder")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("hobbies")}),(0,b.jsx)("textarea",{value:t.hobbies,onChange:a=>v("hobbies",a.target.value),disabled:!k,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:a("hobbiesPlaceholder")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("interests")}),(0,b.jsx)("textarea",{value:t.interests,onChange:a=>v("interests",a.target.value),disabled:!k,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:a("interestsPlaceholder")})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("skills")}),(0,b.jsx)("textarea",{value:t.skills,onChange:a=>v("skills",a.target.value),disabled:!k,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:a("skillsPlaceholder")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("languages")}),(0,b.jsx)("textarea",{value:t.languages,onChange:a=>v("languages",a.target.value),disabled:!k,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:a("languagesPlaceholder")})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-4",children:a("socialMedia")}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("linkedin")}),(0,b.jsx)("input",{type:"url",value:t.linkedin_url,onChange:a=>v("linkedin_url",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://linkedin.com/in/tu-perfil"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("twitter")}),(0,b.jsx)("input",{type:"url",value:t.twitter_url,onChange:a=>v("twitter_url",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://twitter.com/tu-usuario"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("instagram")}),(0,b.jsx)("input",{type:"url",value:t.instagram_url,onChange:a=>v("instagram_url",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://instagram.com/tu-usuario"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:a("website")}),(0,b.jsx)("input",{type:"url",value:t.website_url,onChange:a=>v("website_url",a.target.value),disabled:!k,className:"w-full px-3 py-2 border border-gray-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent dark:bg-slate-700 dark:text-slate-100 disabled:bg-gray-100 dark:disabled:bg-slate-600",placeholder:"https://tu-sitio-web.com"})]})]})]})]})]})}}];

//# sourceMappingURL=src_components_ProfileComponent_tsx_c1347614._.js.map