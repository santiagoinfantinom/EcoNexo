module.exports=[45105,a=>{"use strict";a.s(["default",()=>k],45105);var b=a.i(87924),c=a.i(72131),d=a.i(38246);function e({href:a="/",label:c,className:e}){return(0,b.jsxs)(d.default,{href:a,"aria-label":c,className:`inline-flex items-center gap-2 px-4 py-2 rounded-full border border-emerald-600 text-emerald-700 bg-emerald-50 hover:bg-emerald-600 hover:text-white transition-colors ${e??""}`,children:["← ",c]})}var f=a.i(53407);function g({src:a,alt:c,fallbackSrc:d,className:e}){let f=[a,d,"/window.svg"],g=0;return(0,b.jsx)("img",{src:f[0],alt:c,loading:"lazy",className:e,referrerPolicy:"no-referrer",decoding:"async",crossOrigin:"anonymous",onError:a=>{let b=a.currentTarget;(g+=1)<f.length&&(b.src=f[g])}})}var h=a.i(22720),i=a.i(88045),j=a.i(30071);function k({id:a,details:k,impactTags:l,paypalLink:m,stripeLink:n}){let{t:o,locale:p}=(0,f.useI18n)(),{user:q}=(0,h.useAuth)(),[r,s]=c.default.useState(!1);c.default.useEffect(()=>{(async()=>{if(!q||!(0,i.isSupabaseConfigured)())return;let b=(0,i.getSupabase)(),{data:c}=await b.from("favorites").select("id").eq("user_id",q.id).eq("item_type","project").eq("item_id",a).maybeSingle();s(!!c)})()},[q,a]);let t=async()=>{if(!q||!(0,i.isSupabaseConfigured)()){try{let b=[],c=b.findIndex(b=>"project"===b.type&&b.id===a);if(c>=0){b.splice(c,1),s(!1);try{(0,j.trackEvent)("save_item",{type:"project",id:a,action:"remove",auth:0})}catch{}}else{b.push({type:"project",id:a}),s(!0);try{(0,j.trackEvent)("save_item",{type:"project",id:a,action:"add",auth:0})}catch{}}}catch{}return}let b=(0,i.getSupabase)();if(r){await b.from("favorites").delete().eq("user_id",q.id).eq("item_type","project").eq("item_id",a),s(!1);try{(0,j.trackEvent)("save_item",{type:"project",id:a,action:"remove",auth:1})}catch{}}else{let{error:c}=await b.from("favorites").insert({user_id:q.id,item_type:"project",item_id:a});c||s(!0);try{(0,j.trackEvent)("save_item",{type:"project",id:a,action:"add",auth:1})}catch{}}},u=Math.min(100,Math.round(k.budgetRaisedEur/k.budgetGoalEur*100));return(0,b.jsxs)("div",{className:"grid gap-6 max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"grid gap-2 place-items-center text-center",children:[(0,b.jsx)("div",{className:"text-3xl font-semibold",children:(0,f.projectNameLabel)(k.id,k.name,p)}),(0,b.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,f.locationLabel)(k.city,p),", ",(0,f.locationLabel)(k.country,p)," · ",o("category"),": ",(0,f.categoryLabel)(k.category,p)]}),k.address&&(0,b.jsx)("div",{className:"text-xs text-gray-500",children:k.address})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-[2fr,3fr] gap-6 items-start",children:[(0,b.jsx)("div",{className:"border rounded overflow-hidden bg-white shadow-sm",children:(0,b.jsx)(g,{src:k.image,alt:k.name,fallbackSrc:"/window.svg",className:"w-full h-72 object-cover bg-gray-100"})}),(0,b.jsxs)("div",{className:"grid gap-5",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 place-items-center sm:place-items-stretch",children:[(0,b.jsxs)("div",{className:"border rounded p-5 bg-white shadow-sm",children:[(0,b.jsx)("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:o("volunteers")}),(0,b.jsx)("div",{className:"text-4xl font-black text-gray-50 bg-gray-900 inline-block px-3 rounded leading-tight",children:k.volunteers.toLocaleString("es-ES")})]}),(0,b.jsxs)("div",{className:"border rounded p-5 bg-white shadow-sm",children:[(0,b.jsx)("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:o("raised")}),(0,b.jsxs)("div",{className:"text-4xl font-black text-white bg-green-700 inline-block px-3 rounded leading-tight",children:["€ ",k.budgetRaisedEur.toLocaleString("es-ES")]})]}),(0,b.jsxs)("div",{className:"border rounded p-5 bg-white shadow-sm",children:[(0,b.jsx)("div",{className:"text-[11px] uppercase tracking-wide text-gray-500",children:o("goal")}),(0,b.jsxs)("div",{className:"text-4xl font-black text-gray-900 bg-amber-200 inline-block px-3 rounded leading-tight",children:["€ ",k.budgetGoalEur.toLocaleString("es-ES")]})]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("div",{className:"h-3 w-full bg-gray-300 rounded",children:(0,b.jsx)("div",{className:"h-3 bg-green-700 rounded",style:{width:`${u}%`},"aria-label":o("progressReached")})}),(0,b.jsxs)("div",{className:"text-base font-bold text-white",children:[u,"% ",o("reached")]})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("div",{className:"text-base font-semibold text-white",children:o("description")}),(0,b.jsx)("p",{className:"text-[16px] leading-relaxed text-white",children:"en"===p&&k.description_en?k.description_en:"de"===p&&k.description_de?k.description_de:(0,f.projectDescriptionLabel)(k.id,k.description,p)})]}),(0,b.jsxs)("div",{className:"grid gap-2",children:[(0,b.jsx)("div",{className:"text-base font-semibold text-white",children:o("impact")}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:l.map((a,c)=>(0,b.jsxs)("span",{className:`px-3 py-1 rounded-full border ${a.color} inline-flex items-center gap-1 text-sm`,children:[(0,b.jsx)("span",{children:a.emoji}),(0,b.jsx)("span",{children:(0,f.impactTagLabel)(a.label,p)})]},c))})]}),"number"==typeof k.spots&&(0,b.jsxs)("div",{className:"text-sm text-white",children:[o("availableSpots"),": ",(0,b.jsx)("span",{className:"font-extrabold text-gray-50 bg-gray-900 px-2 rounded",children:k.spots})]}),(0,b.jsxs)("div",{className:"flex gap-3 justify-center sm:justify-start",children:[(0,b.jsx)(d.default,{href:`/projects/${k.id}/voluntariado`,className:"bg-green-700 text-white rounded px-4 py-2 font-medium",children:o("beVolunteer")}),(0,b.jsx)("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"border rounded px-4 py-2 font-medium hover:bg-gray-50",children:o("donatePaypal")}),(0,b.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"border rounded px-4 py-2 font-medium hover:bg-gray-50",children:o("donateStripe")}),k.info_url&&(0,b.jsx)("a",{href:k.info_url,target:"_blank",rel:"noopener noreferrer",className:"border rounded px-4 py-2 font-medium hover:bg-gray-50",children:"de"===p?"Mehr Info":"en"===p?"More info":"Más info"}),(0,b.jsx)("button",{onClick:t,className:`rounded px-4 py-2 font-medium ${r?"bg-amber-200":"border hover:bg-gray-50"}`,children:r?"★ "+o("saved"):"☆ "+o("save")})]})]})]}),(0,b.jsx)("div",{children:(0,b.jsx)(e,{href:"/",label:o("backToMap")})})]})}},89175,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(38246),d=a.i(53407);function e(){let{t:a,locale:e}=(0,d.useI18n)();return(0,b.jsxs)("div",{className:"grid gap-4",children:[(0,b.jsx)("div",{className:"text-lg font-semibold",children:"es"===e?"Proyecto no encontrado":"de"===e?"Projekt nicht gefunden":"Project not found"}),(0,b.jsx)(c.default,{href:"/",className:"text-green-700 underline w-fit",children:"es"===e?"Volver al mapa":"de"===e?"Zurück zur Karte":"Back to map"})]})}}];

//# sourceMappingURL=src_components_b6403da9._.js.map