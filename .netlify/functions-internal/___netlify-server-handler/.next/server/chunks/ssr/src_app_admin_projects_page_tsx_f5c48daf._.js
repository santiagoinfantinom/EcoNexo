module.exports=[16107,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(88045);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)({}),[h,i]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{if(!(0,d.isSupabaseConfigured)())return;let a=(0,d.getSupabase)(),{data:b,error:c}=await a.from("projects").select("id,name,category,lat,lng,city,country").order("created_at",{ascending:!1});!c&&b&&e(b)})()},[]);let j=async()=>{if(i(null),!(0,d.isSupabaseConfigured)())return void i("Supabase no configurado");let a=(0,d.getSupabase)(),b={...f,id:f.id?.trim()};if(!b.id||!b.name)return void i("id y name son requeridos");let{data:c,error:h}=await a.from("projects").upsert(b).select("*");if(h)return void i(h.message);e(a=>[c[0],...a.filter(a=>a.id!==b.id)]),g({})};return(0,b.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin · Projects"}),!(0,d.isSupabaseConfigured)()&&(0,b.jsx)("div",{className:"mb-4 text-sm",children:"Configura NEXT_PUBLIC_SUPABASE_URL y NEXT_PUBLIC_SUPABASE_ANON_KEY para habilitar el admin."}),(0,b.jsxs)("div",{className:"grid gap-2 mb-6",children:[(0,b.jsx)("input",{placeholder:"id",className:"border p-2",value:f.id??"",onChange:a=>g(b=>({...b,id:a.target.value}))}),(0,b.jsx)("input",{placeholder:"name",className:"border p-2",value:f.name??"",onChange:a=>g(b=>({...b,name:a.target.value}))}),(0,b.jsx)("input",{placeholder:"category",className:"border p-2",value:f.category??"",onChange:a=>g(b=>({...b,category:a.target.value}))}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("input",{placeholder:"lat",className:"border p-2",value:f.lat??"",onChange:a=>g(b=>({...b,lat:Number(a.target.value)}))}),(0,b.jsx)("input",{placeholder:"lng",className:"border p-2",value:f.lng??"",onChange:a=>g(b=>({...b,lng:Number(a.target.value)}))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsx)("input",{placeholder:"city",className:"border p-2",value:f.city??"",onChange:a=>g(b=>({...b,city:a.target.value}))}),(0,b.jsx)("input",{placeholder:"country",className:"border p-2",value:f.country??"",onChange:a=>g(b=>({...b,country:a.target.value}))})]}),(0,b.jsx)("button",{className:"btn-gls-primary w-fit",onClick:j,children:"Guardar"}),h&&(0,b.jsx)("div",{className:"text-rose-700",children:h})]}),(0,b.jsx)("ul",{className:"grid gap-2",children:a.map(a=>(0,b.jsxs)("li",{className:"border p-3 rounded flex justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold",children:a.name}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[a.category," · ",a.city,", ",a.country]})]}),(0,b.jsx)("a",{className:"text-green-700 underline",href:`/projects/${a.id}`,children:"ver"})]},a.id))})]})}}];

//# sourceMappingURL=src_app_admin_projects_page_tsx_f5c48daf._.js.map