"use client";
import React, { createContext, useContext, useMemo, useState, useEffect } from "react";

export type Locale = "es" | "en" | "de";

type Dict = Record<string, string>;

const DICTS: Record<Locale, Dict> = {
  es: {
    app: "EcoNexo",
    map: "Mapa",
    events: "Eventos",
    all: "Todas",
    category: "Categor√≠a",
    volunteers: "Voluntaries",
    raised: "Recaudado",
    goal: "Meta",
    description: "Descripci√≥n",
    availableSpots: "Cupos disponibles",
    beVolunteer: "Ser voluntarix",
    donatePaypal: "Donar con PayPal",
    donateStripe: "Donar con Stripe",
    createEvent: "Crear evento",
    optionalCategories: "Categor√≠as opcionales",
    existingEvents: "Eventos existentes",
    viewDetails: "Ver detalle",
    impact: "Impacto",
    backToMap: "Volver al mapa",
    title: "T√≠tulo",
    date: "Fecha",
    city: "Ciudad",
    country: "Pa√≠s",
    mainCategory: "Categor√≠a principal",
    capacity: "Cupo",
    notes: "Notas",
    save: "Guardar",
    noEvents: "No hay eventos a√∫n",
    createdEvent: "Evento creado",
    volunteersPageTitle: "Ser voluntarix",
    localRecords: "Registros locales",
    noVolunteersYet: "A√∫n no hay personas registradas.",
    name: "Nombre",
    email: "Email",
    availability: "Disponibilidad",
    saved: "¬°Guardado!",
    required: "obligatorio",
    optional: "opcional",
    also: "adem√°s",
    reached: "alcanzado",
    titlePh: "Nombre del evento",
    cityPh: "Ciudad",
    countryPh: "Pa√≠s",
    capacityPh: "N√∫mero de plazas",
    notesPh: "Detalles, requisitos, etc.",
    availabilityPh: "Ej: fines de semana",
    backToProject: "Volver al proyecto",
    // Map filters
    filters: "Filtros",
    search: "Buscar",
    searchProjects: "Buscar proyectos...",
    categories: "Categor√≠as",
    onlyAvailableSpots: "Solo cupos disponibles",
    maxDistance: "Distancia m√°xima",
    anyDistance: "Cualquier distancia",
    clearFilters: "Limpiar filtros",
    apply: "Aplicar",
    myLocation: "Mi ubicaci√≥n",
    centerOnLocation: "Centrar en mi ubicaci√≥n",
    // Calendar
    calendar: "Calendario",
    month: "Mes",
    week: "Semana",
    list: "Lista",
    viewProject: "Ver proyecto",
    join: "Unirse",
    // Map layers
    satellite: "Sat√©lite",
    traffic: "Tr√°fico",
    terrain: "Terreno",
    // Clustering
    showAll: "Mostrar todos",
    clusterInfo: "proyectos en esta √°rea",
    clusterMarkers: "Agrupar marcadores",
    cluster: "Agrupar",
    individual: "Individual",
    // Eco Tips
    ecoTips: "Tips Ecol√≥gicos",
    ecoTipsDescription: "Descubre formas sencillas de reducir tu impacto ambiental",
    highImpact: "Alto Impacto",
    mediumImpact: "Medio Impacto",
    lowImpact: "Bajo Impacto",
    easy: "F√°cil",
    medium: "Medio",
    hard: "Dif√≠cil",
    jobs: "Trabajos verdes",
    searchJobsPlaceholder: "Buscar por t√≠tulo, empresa o √°rea",
    minSalary: "Salario m√≠nimo (‚Ç¨)",
    minExperience: "A√±os de experiencia (m√≠n.)",
    results: "resultados",
    cityLabel: "Ciudad",
    contractLabel: "Contrato",
    contract_full_time: "Tiempo completo",
    contract_part_time: "Medio tiempo",
    contract_contract: "Contrato",
    contract_internship: "Pr√°cticas",
    remoteOnly: "Solo remoto",
    applyBtn: "Postular",
    saveBtn: "Guardar",
    yearsExp: "a√±os exp.",
    applyForJob: "Postular al trabajo",
    yourName: "Tu nombre",
    yourEmail: "Tu email",
    cvLink: "Enlace a tu CV (opcional)",
    sendApplication: "Enviar postulaci√≥n",
    applicationSent: "¬°Postulaci√≥n enviada!",
    unsaved: "Quitado de guardados",
    // Job posting conditions
    jobPostingConditions: "Condiciones para publicar trabajos",
    jobPostingInfo: "Para mantener la calidad de nuestras ofertas de trabajo verdes, todos los empleadores deben cumplir con nuestros est√°ndares de sostenibilidad y responsabilidad social.",
    conductGuidelines: "Directrices de conducta",
    conductGuidelinesText: "‚Ä¢ Compromiso demostrable con pr√°cticas ambientales sostenibles\n‚Ä¢ Salarios justos y condiciones de trabajo equitativas\n‚Ä¢ Pol√≠ticas de diversidad e inclusi√≥n\n‚Ä¢ Transparencia en la informaci√≥n de la empresa\n‚Ä¢ Cumplimiento de regulaciones laborales locales",
    createJobOffer: "Crear oferta de trabajo",
    // Job Creation Form
    jobTitle: "T√≠tulo del Trabajo",
    jobTitlePlaceholder: "Ej: Especialista en Energ√≠a Solar",
    companyName: "Nombre de la Empresa",
    companyNamePlaceholder: "Ej: GreenTech Solutions",
    jobDescription: "Descripci√≥n del Trabajo",
    jobDescriptionPlaceholder: "Describe las responsabilidades y requisitos del puesto...",
    jobLocation: "Ubicaci√≥n",
    jobLocationPlaceholder: "Ej: Madrid, Espa√±a",
    jobType: "Tipo de Trabajo",
    jobTypeFullTime: "Tiempo Completo",
    jobTypePartTime: "Medio Tiempo",
    jobTypeContract: "Contrato",
    jobTypeInternship: "Pr√°cticas",
    jobTypeRemote: "Remoto",
    jobTypeHybrid: "H√≠brido",
    salaryRange: "Rango Salarial",
    salaryRangePlaceholder: "Ej: ‚Ç¨30,000 - ‚Ç¨45,000",
    experienceLevel: "Nivel de Experiencia",
    experienceEntry: "Principiante",
    experienceMid: "Intermedio",
    experienceSenior: "Senior",
    experienceExpert: "Experto",
    requiredSkills: "Habilidades Requeridas",
    requiredSkillsPlaceholder: "Ej: React, Node.js, Python...",
    benefits: "Beneficios",
    benefitsPlaceholder: "Ej: Seguro m√©dico, trabajo remoto, desarrollo profesional...",
    applicationDeadline: "Fecha L√≠mite de Aplicaci√≥n",
    contactEmail: "Email de Contacto",
    contactEmailPlaceholder: "hr@empresa.com",
    publishJob: "Publicar Trabajo",
    saveDraft: "Guardar Borrador",
    jobCreated: "Trabajo creado exitosamente",
    jobError: "Error al crear el trabajo",
    employerGuidelines: "Directrices para empleadores",
    noParticipatedEvents: "No has participado en ning√∫n evento a√∫n",
    supportUs: "Ap√≥yanos",
    chat: "Chat",
    communityChat: "Chat de la Comunidad",
    chatRules: "Reglas del Chat",
    chatRulesTitle: "Nuestros Valores de Comunidad",
    chatRulesIntro: "Este espacio est√° dise√±ado para fomentar conexiones positivas y constructivas entre miembros de nuestra comunidad ecol√≥gica.",
    chatRule1: "üíö Amor y Compasi√≥n: Trata a todos con amor, respeto y comprensi√≥n.",
    chatRule2: "ü§ù Empat√≠a: Ponte en el lugar de los dem√°s antes de responder.",
    chatRule3: "üå± Construcci√≥n Positiva: Comparte ideas que contribuyan al bienestar com√∫n.",
    chatRule4: "üåç Respeto Ambiental: Mant√©n todas las conversaciones alineadas con nuestros valores ecol√≥gicos.",
    chatRule5: "‚ú® Inspiraci√≥n: Motiva e inspira a otros en su camino hacia la sostenibilidad.",
    chatRule6: "üõ°Ô∏è Espacio Seguro: No toleramos discriminaci√≥n, acoso o contenido negativo.",
    chatRule7: "üéØ Prop√≥sito: Mant√©n las conversaciones enfocadas en temas relacionados con sostenibilidad y comunidad.",
    chatRule8: "üí¨ Comunicaci√≥n Constructiva: Expresa tus ideas de manera clara y respetuosa.",
    chatRulesFooter: "Al participar en este chat, aceptas seguir estos valores. ¬°Juntos construimos una comunidad m√°s sostenible y amorosa!",
    sendMessage: "Enviar mensaje",
    typeMessage: "Escribe tu mensaje...",
    onlineUsers: "Usuarios en l√≠nea",
    joinConversation: "√önete a la conversaci√≥n",
    welcomeMessage: "¬°Bienvenido/a al chat de la comunidad EcoNexo! üåø",
    topicForums: "Foros Tem√°ticos",
    recommendations: "Recomendaciones",
    popularDiscussions: "Discusiones Populares",
    joinActiveConversations: "√önete a las conversaciones m√°s activas",
    newProjects: "Proyectos Nuevos",
    discoverLatestInitiatives: "Descubre las √∫ltimas iniciativas sostenibles",
    eventsNearYou: "Eventos Cercanos",
    findLocalEvents: "Encuentra eventos locales y reuniones",
    currentTopic: "Tema actual",
    profile: "Perfil",
    myProfile: "Mi Perfil",
    editProfile: "Editar Perfil",
    personalInformation: "Informaci√≥n Personal",
    profilePhoto: "Foto de Perfil",
    changePhoto: "Cambiar Foto",
    uploadPhoto: "Subir Foto",
    firstName: "Nombre",
    lastName: "Apellido",
    aboutMe: "Acerca de M√≠",
    passions: "Pasiones",
    passionsPlaceholder: "Ej: Sostenibilidad, Energ√≠a Renovable, Conservaci√≥n...",
    areasOfExpertise: "√Åreas de Experiencia",
    expertisePlaceholder: "Ej: Ingenier√≠a Ambiental, Educaci√≥n, Agricultura Org√°nica...",
    hobbies: "Hobbies",
    hobbiesPlaceholder: "Ej: Jardiner√≠a, Senderismo, Fotograf√≠a de Naturaleza...",
    interests: "Intereses",
    interestsPlaceholder: "Ej: Cambio Clim√°tico, Biodiversidad, Tecnolog√≠a Verde...",
    skills: "Habilidades",
    skillsPlaceholder: "Ej: Liderazgo, Comunicaci√≥n, An√°lisis de Datos...",
    languages: "Idiomas",
    languagesPlaceholder: "Ej: Espa√±ol, Ingl√©s, Alem√°n...",
    socialMedia: "Redes Sociales",
    linkedin: "LinkedIn",
    twitter: "Twitter",
    instagram: "Instagram",
    website: "Sitio Web",
    saveChanges: "Guardar Cambios",
    cancel: "Cancelar",
    profileUpdated: "Perfil actualizado exitosamente",
    profileError: "Error al actualizar el perfil",
    // Event Details
    backToEvents: "Volver a eventos",
    volunteerProgress: "Progreso de voluntarios",
    spotsLeft: "lugares disponibles",
    fullyBooked: "Completo",
    joinEvent: "Unirse al evento",
    shareEvent: "Compartir evento",
    viewEvent: "Ver evento",
    time: "Hora",
    location: "Ubicaci√≥n",
    contact: "Contacto",
    requirements: "Requisitos",
    beginner: "Principiante",
    intermediate: "Intermedio",
    expert: "Experto",
    emergencyContact: "Contacto de Emergencia",
    emergencyContactName: "Nombre del contacto",
    emergencyContactPhone: "Tel√©fono de emergencia",
    additionalInformation: "Informaci√≥n Adicional",
    motivationToParticipate: "¬øPor qu√© quieres participar en este evento?",
    dietaryRestrictions: "Restricciones alimentarias (opcional)",
    accessibilityNeeds: "Necesidades de accesibilidad (opcional)",
    consents: "Consentimientos",
    photoVideoConsent: "Autorizo el uso de mi imagen en fotos y videos del evento con fines promocionales",
    acceptTerms: "Acepto los t√©rminos y condiciones y la pol√≠tica de privacidad",
    register: "Registrarse al Evento",
    registering: "Registrando...",
    // Validation
    fullNameRequired: "El nombre es obligatorio",
    emailRequired: "El email es obligatorio",
    emailInvalid: "El email no es v√°lido",
    phoneRequired: "El n√∫mero de tel√©fono es obligatorio",
    phoneInvalid: "El n√∫mero de tel√©fono no es v√°lido",
    emergencyContactNameRequired: "El contacto de emergencia es obligatorio",
    emergencyContactPhoneRequired: "El tel√©fono de emergencia es obligatorio",
    motivationRequired: "Por favor explica por qu√© quieres participar",
    termsRequired: "Debes aceptar los t√©rminos y condiciones",
    // Social
    saveProfile: "Guardar perfil",
    bio: "Biograf√≠a",
    language: "Idioma",
    chats: "Chats",
    newMessage: "Nuevo mensaje",
    send: "Enviar",
    startChat: "Iniciar chat",
  },
  en: {
    app: "EcoNexo",
    map: "Map",
    events: "Events",
    all: "All",
    category: "Category",
    volunteers: "Volunteers",
    raised: "Raised",
    goal: "Goal",
    description: "Description",
    availableSpots: "Available spots",
    beVolunteer: "Become a volunteer",
    donatePaypal: "Donate with PayPal",
    donateStripe: "Donate with Stripe",
    createEvent: "Create event",
    optionalCategories: "Optional categories",
    existingEvents: "Existing events",
    viewDetails: "View details",
    impact: "Impact",
    backToMap: "Back to map",
    title: "Title",
    date: "Date",
    city: "City",
    country: "Country",
    mainCategory: "Main category",
    capacity: "Capacity",
    notes: "Notes",
    save: "Save",
    noEvents: "No events yet",
    createdEvent: "Event created",
    volunteersPageTitle: "Become a volunteer",
    localRecords: "Local records",
    noVolunteersYet: "No volunteers registered yet.",
    name: "Name",
    email: "Email",
    availability: "Availability",
    saved: "Saved!",
    required: "required",
    optional: "optional",
    also: "also",
    reached: "reached",
    titlePh: "Event name",
    cityPh: "City",
    countryPh: "Country",
    capacityPh: "Number of seats",
    notesPh: "Details, requirements, etc.",
    availabilityPh: "e.g., weekends",
    backToProject: "Back to project",
    // Map filters
    filters: "Filters",
    search: "Search",
    searchProjects: "Search projects...",
    categories: "Categories",
    onlyAvailableSpots: "Only available spots",
    maxDistance: "Max distance",
    anyDistance: "Any distance",
    clearFilters: "Clear filters",
    apply: "Apply",
    myLocation: "My location",
    centerOnLocation: "Center on my location",
    // Calendar
    calendar: "Calendar",
    month: "Month",
    week: "Week",
    list: "List",
    viewProject: "View project",
    join: "Join",
    // Map layers
    satellite: "Satellite",
    traffic: "Traffic",
    terrain: "Terrain",
    // Clustering
    showAll: "Show all",
    clusterInfo: "projects in this area",
    clusterMarkers: "Cluster markers",
    cluster: "Cluster",
    individual: "Individual",
    // Eco Tips
    ecoTips: "Eco Tips",
    ecoTipsDescription: "Discover simple ways to reduce your environmental impact",
    highImpact: "High Impact",
    mediumImpact: "Medium Impact",
    lowImpact: "Low Impact",
    easy: "Easy",
    medium: "Medium",
    hard: "Hard",
    jobs: "Green jobs",
    searchJobsPlaceholder: "Search by title, company or area",
    minSalary: "Minimum salary (‚Ç¨)",
    minExperience: "Years of experience (min)",
    results: "results",
    cityLabel: "City",
    contractLabel: "Contract",
    contract_full_time: "Full-time",
    contract_part_time: "Part-time",
    contract_contract: "Contract",
    contract_internship: "Internship",
    remoteOnly: "Remote only",
    applyBtn: "Apply",
    saveBtn: "Save",
    yearsExp: "years exp.",
    applyForJob: "Apply for job",
    yourName: "Your name",
    yourEmail: "Your email",
    cvLink: "CV link (optional)",
    sendApplication: "Send application",
    applicationSent: "Application sent!",
    unsaved: "Removed from saved",
    // Job posting conditions
    jobPostingConditions: "Job posting conditions",
    jobPostingInfo: "To maintain the quality of our green job offers, all employers must meet our sustainability and social responsibility standards.",
    conductGuidelines: "Conduct guidelines",
    conductGuidelinesText: "‚Ä¢ Demonstrable commitment to sustainable environmental practices\n‚Ä¢ Fair wages and equitable working conditions\n‚Ä¢ Diversity and inclusion policies\n‚Ä¢ Transparency in company information\n‚Ä¢ Compliance with local labor regulations",
    createJobOffer: "Create job offer",
    // Job Creation Form
    jobTitle: "Job Title",
    jobTitlePlaceholder: "E.g.: Solar Energy Specialist",
    companyName: "Company Name",
    companyNamePlaceholder: "E.g.: GreenTech Solutions",
    jobDescription: "Job Description",
    jobDescriptionPlaceholder: "Describe the responsibilities and requirements of the position...",
    jobLocation: "Location",
    jobLocationPlaceholder: "E.g.: Madrid, Spain",
    jobType: "Job Type",
    jobTypeFullTime: "Full Time",
    jobTypePartTime: "Part Time",
    jobTypeContract: "Contract",
    jobTypeInternship: "Internship",
    jobTypeRemote: "Remote",
    jobTypeHybrid: "Hybrid",
    salaryRange: "Salary Range",
    salaryRangePlaceholder: "E.g.: ‚Ç¨30,000 - ‚Ç¨45,000",
    experienceLevel: "Experience Level",
    experienceEntry: "Entry Level",
    experienceMid: "Mid Level",
    experienceSenior: "Senior",
    experienceExpert: "Expert",
    requiredSkills: "Required Skills",
    requiredSkillsPlaceholder: "E.g.: React, Node.js, Python...",
    benefits: "Benefits",
    benefitsPlaceholder: "E.g.: Health insurance, remote work, professional development...",
    applicationDeadline: "Application Deadline",
    contactEmail: "Contact Email",
    contactEmailPlaceholder: "hr@company.com",
    publishJob: "Publish Job",
    saveDraft: "Save Draft",
    jobCreated: "Job created successfully",
    jobError: "Error creating job",
    employerGuidelines: "Employer guidelines",
    noParticipatedEvents: "You haven't participated in any events yet",
    supportUs: "Support Us",
    chat: "Chat",
    communityChat: "Community Chat",
    chatRules: "Chat Rules",
    chatRulesTitle: "Our Community Values",
    chatRulesIntro: "This space is designed to foster positive and constructive connections between members of our ecological community.",
    chatRule1: "üíö Love and Compassion: Treat everyone with love, respect and understanding.",
    chatRule2: "ü§ù Empathy: Put yourself in others' shoes before responding.",
    chatRule3: "üå± Positive Construction: Share ideas that contribute to common well-being.",
    chatRule4: "üåç Environmental Respect: Keep all conversations aligned with our ecological values.",
    chatRule5: "‚ú® Inspiration: Motivate and inspire others on their path to sustainability.",
    chatRule6: "üõ°Ô∏è Safe Space: We do not tolerate discrimination, harassment or negative content.",
    chatRule7: "üéØ Purpose: Keep conversations focused on topics related to sustainability and community.",
    chatRule8: "üí¨ Constructive Communication: Express your ideas clearly and respectfully.",
    chatRulesFooter: "By participating in this chat, you agree to follow these values. Together we build a more sustainable and loving community!",
    sendMessage: "Send message",
    typeMessage: "Type your message...",
    onlineUsers: "Online users",
    joinConversation: "Join the conversation",
    welcomeMessage: "Welcome to the EcoNexo community chat! üåø",
    topicForums: "Topic Forums",
    recommendations: "Recommendations",
    popularDiscussions: "Popular Discussions",
    joinActiveConversations: "Join the most active conversations",
    newProjects: "New Projects",
    discoverLatestInitiatives: "Discover the latest sustainable initiatives",
    eventsNearYou: "Events Near You",
    findLocalEvents: "Find local events and meetups",
    currentTopic: "Current topic",
    profile: "Profile",
    myProfile: "My Profile",
    editProfile: "Edit Profile",
    personalInformation: "Personal Information",
    profilePhoto: "Profile Photo",
    changePhoto: "Change Photo",
    uploadPhoto: "Upload Photo",
    firstName: "First Name",
    lastName: "Last Name",
    aboutMe: "About Me",
    passions: "Passions",
    passionsPlaceholder: "E.g.: Sustainability, Renewable Energy, Conservation...",
    areasOfExpertise: "Areas of Expertise",
    expertisePlaceholder: "E.g.: Environmental Engineering, Education, Organic Agriculture...",
    hobbies: "Hobbies",
    hobbiesPlaceholder: "E.g.: Gardening, Hiking, Nature Photography...",
    interests: "Interests",
    interestsPlaceholder: "E.g.: Climate Change, Biodiversity, Green Technology...",
    skills: "Skills",
    skillsPlaceholder: "E.g.: Leadership, Communication, Data Analysis...",
    languages: "Languages",
    languagesPlaceholder: "E.g.: Spanish, English, German...",
    socialMedia: "Social Media",
    linkedin: "LinkedIn",
    twitter: "Twitter",
    instagram: "Instagram",
    website: "Website",
    saveChanges: "Save Changes",
    cancel: "Cancel",
    profileUpdated: "Profile updated successfully",
    profileError: "Error updating profile",
    // Event Details
    backToEvents: "Back to events",
    volunteerProgress: "Volunteer progress",
    spotsLeft: "spots available",
    fullyBooked: "Fully booked",
    joinEvent: "Join event",
    shareEvent: "Share event",
    viewEvent: "View event",
    time: "Time",
    location: "Location",
    contact: "Contact",
    requirements: "Requirements",
    // Registration form
    registerForEvent: "Register for Event",
    event: "Event",
    close: "Close",
    fullName: "Full name",
    phoneNumber: "Phone number",
    beginner: "Beginner",
    intermediate: "Intermediate",
    expert: "Expert",
    emergencyContact: "Emergency Contact",
    emergencyContactName: "Emergency contact name",
    emergencyContactPhone: "Emergency phone",
    additionalInformation: "Additional Information",
    motivationToParticipate: "Why do you want to participate in this event?",
    dietaryRestrictions: "Dietary restrictions (optional)",
    accessibilityNeeds: "Accessibility needs (optional)",
    consents: "Consents",
    photoVideoConsent: "I authorize the use of my image in event photos/videos for promotional purposes",
    acceptTerms: "I accept the terms and conditions and the privacy policy",
    register: "Register",
    registering: "Registering...",
    // Validation
    fullNameRequired: "Full name is required",
    emailRequired: "Email is required",
    emailInvalid: "Email is invalid",
    phoneRequired: "Phone number is required",
    phoneInvalid: "Phone number is invalid",
    emergencyContactNameRequired: "Emergency contact name is required",
    emergencyContactPhoneRequired: "Emergency phone is required",
    motivationRequired: "Please explain why you want to participate",
    termsRequired: "You must accept the terms and conditions",
    // Social
    saveProfile: "Save profile",
    bio: "Bio",
    language: "Language",
    chats: "Chats",
    newMessage: "New message",
    send: "Send",
    startChat: "Start chat",
  },
  de: {
    app: "EcoNexo",
    map: "Karte",
    events: "Veranstaltungen",
    all: "Alle",
    category: "Kategorie",
    volunteers: "Freiwillige",
    raised: "Eingenommen",
    goal: "Ziel",
    description: "Beschreibung",
    availableSpots: "Verf√ºgbare Pl√§tze",
    beVolunteer: "Freiwillige/r werden",
    donatePaypal: "Mit PayPal spenden",
    donateStripe: "Mit Stripe spenden",
    createEvent: "Veranstaltung erstellen",
    optionalCategories: "Optionale Kategorien",
    existingEvents: "Vorhandene Veranstaltungen",
    viewDetails: "Details ansehen",
    impact: "Wirkung",
    backToMap: "Zur√ºck zur Karte",
    title: "Titel",
    date: "Datum",
    city: "Stadt",
    country: "Land",
    mainCategory: "Hauptkategorie",
    capacity: "Kapazit√§t",
    notes: "Notizen",
    save: "Speichern",
    noEvents: "Noch keine Veranstaltungen",
    createdEvent: "Veranstaltung erstellt",
    volunteersPageTitle: "Als Freiwillige/r mitmachen",
    localRecords: "Lokale Eintr√§ge",
    noVolunteersYet: "Noch keine Freiwilligen registriert.",
    name: "Name",
    email: "E-Mail",
    availability: "Verf√ºgbarkeit",
    saved: "Gespeichert!",
    required: "erforderlich",
    optional: "optional",
    also: "au√üerdem",
    reached: "erreicht",
    titlePh: "Veranstaltungsname",
    cityPh: "Stadt",
    countryPh: "Land",
    capacityPh: "Anzahl der Pl√§tze",
    notesPh: "Details, Anforderungen usw.",
    availabilityPh: "z. B. Wochenenden",
    backToProject: "Zur√ºck zum Projekt",
    // Map filters
    filters: "Filter",
    search: "Suchen",
    searchProjects: "Projekte suchen...",
    categories: "Kategorien",
    onlyAvailableSpots: "Nur verf√ºgbare Pl√§tze",
    maxDistance: "Maximale Entfernung",
    anyDistance: "Beliebige Entfernung",
    clearFilters: "Filter l√∂schen",
    apply: "Anwenden",
    myLocation: "Mein Standort",
    centerOnLocation: "Auf meinen Standort zentrieren",
    // Calendar
    calendar: "Kalender",
    month: "Monat",
    week: "Woche",
    list: "Liste",
    viewProject: "Projekt ansehen",
    join: "Beitreten",
    // Map layers
    satellite: "Satellit",
    traffic: "Verkehr",
    terrain: "Gel√§nde",
    // Clustering
    showAll: "Alle anzeigen",
    clusterInfo: "Projekte in diesem Bereich",
    clusterMarkers: "Marker gruppieren",
    cluster: "Gruppieren",
    individual: "Einzeln",
    // Eco Tips
    ecoTips: "√ñko-Tipps",
    ecoTipsDescription: "Entdecke einfache Wege, deinen Umweltfu√üabdruck zu reduzieren",
    highImpact: "Hoher Einfluss",
    mediumImpact: "Mittlerer Einfluss",
    lowImpact: "Geringer Einfluss",
    easy: "Einfach",
    medium: "Mittel",
    hard: "Schwer",
    jobs: "Gr√ºne Jobs",
    searchJobsPlaceholder: "Suche nach Titel, Unternehmen oder Bereich",
    minSalary: "Mindestgehalt (‚Ç¨)",
    minExperience: "Jahre Erfahrung (min.)",
    results: "Ergebnisse",
    cityLabel: "Stadt",
    contractLabel: "Vertrag",
    contract_full_time: "Vollzeit",
    contract_part_time: "Teilzeit",
    contract_contract: "Befristet",
    contract_internship: "Praktikum",
    remoteOnly: "Nur Remote",
    applyBtn: "Bewerben",
    saveBtn: "Speichern",
    yearsExp: "Jahre Erfahrung",
    applyForJob: "F√ºr Stelle bewerben",
    yourName: "Dein Name",
    yourEmail: "Deine E‚ÄëMail",
    cvLink: "CV‚ÄëLink (optional)",
    sendApplication: "Bewerbung senden",
    applicationSent: "Bewerbung gesendet!",
    unsaved: "Aus Gespeicherten entfernt",
    // Job posting conditions
    jobPostingConditions: "Bedingungen f√ºr Stellenausschreibungen",
    jobPostingInfo: "Um die Qualit√§t unserer gr√ºnen Stellenangebote zu gew√§hrleisten, m√ºssen alle Arbeitgeber unsere Nachhaltigkeits- und Sozialverantwortungsstandards erf√ºllen.",
    conductGuidelines: "Verhaltensrichtlinien",
    conductGuidelinesText: "‚Ä¢ Nachweisbares Engagement f√ºr nachhaltige Umweltpraktiken\n‚Ä¢ Faire L√∂hne und gerechte Arbeitsbedingungen\n‚Ä¢ Diversit√§ts- und Inklusionsrichtlinien\n‚Ä¢ Transparenz in Unternehmensinformationen\n‚Ä¢ Einhaltung lokaler Arbeitsvorschriften",
    createJobOffer: "Stellenausschreibung erstellen",
    // Job Creation Form
    jobTitle: "Stellentitel",
    jobTitlePlaceholder: "Z.B.: Spezialist f√ºr Solarenergie",
    companyName: "Firmenname",
    companyNamePlaceholder: "Z.B.: GreenTech Solutions",
    jobDescription: "Stellenbeschreibung",
    jobDescriptionPlaceholder: "Beschreiben Sie die Verantwortlichkeiten und Anforderungen der Position...",
    jobLocation: "Standort",
    jobLocationPlaceholder: "Z.B.: Madrid, Spanien",
    jobType: "Arbeitsart",
    jobTypeFullTime: "Vollzeit",
    jobTypePartTime: "Teilzeit",
    jobTypeContract: "Vertrag",
    jobTypeInternship: "Praktikum",
    jobTypeRemote: "Remote",
    jobTypeHybrid: "Hybrid",
    salaryRange: "Gehaltsspanne",
    salaryRangePlaceholder: "Z.B.: ‚Ç¨30.000 - ‚Ç¨45.000",
    experienceLevel: "Erfahrungsniveau",
    experienceEntry: "Einsteiger",
    experienceMid: "Mittelstufe",
    experienceSenior: "Senior",
    experienceExpert: "Experte",
    requiredSkills: "Erforderliche F√§higkeiten",
    requiredSkillsPlaceholder: "Z.B.: React, Node.js, Python...",
    benefits: "Vorteile",
    benefitsPlaceholder: "Z.B.: Krankenversicherung, Remote-Arbeit, berufliche Entwicklung...",
    applicationDeadline: "Bewerbungsschluss",
    contactEmail: "Kontakt-E-Mail",
    contactEmailPlaceholder: "hr@unternehmen.com",
    publishJob: "Stelle ver√∂ffentlichen",
    saveDraft: "Entwurf speichern",
    jobCreated: "Stelle erfolgreich erstellt",
    jobError: "Fehler beim Erstellen der Stelle",
    employerGuidelines: "Richtlinien f√ºr Arbeitgeber",
    noParticipatedEvents: "Du hast noch an keiner Veranstaltung teilgenommen",
    supportUs: "Unterst√ºtze uns",
    chat: "Chat",
    communityChat: "Community-Chat",
    chatRules: "Chat-Regeln",
    chatRulesTitle: "Unsere Gemeinschaftswerte",
    chatRulesIntro: "Dieser Raum ist darauf ausgelegt, positive und konstruktive Verbindungen zwischen Mitgliedern unserer √∂kologischen Gemeinschaft zu f√∂rdern.",
    chatRule1: "üíö Liebe und Mitgef√ºhl: Behandle alle mit Liebe, Respekt und Verst√§ndnis.",
    chatRule2: "ü§ù Empathie: Versetze dich in die Lage anderer, bevor du antwortest.",
    chatRule3: "üå± Positive Konstruktion: Teile Ideen, die zum gemeinsamen Wohlbefinden beitragen.",
    chatRule4: "üåç Umweltrespekt: Halte alle Gespr√§che mit unseren √∂kologischen Werten im Einklang.",
    chatRule5: "‚ú® Inspiration: Motiviere und inspiriere andere auf ihrem Weg zur Nachhaltigkeit.",
    chatRule6: "üõ°Ô∏è Sicherer Raum: Wir tolerieren keine Diskriminierung, Bel√§stigung oder negativen Inhalt.",
    chatRule7: "üéØ Zweck: Halte Gespr√§che auf Themen im Zusammenhang mit Nachhaltigkeit und Gemeinschaft fokussiert.",
    chatRule8: "üí¨ Konstruktive Kommunikation: Dr√ºcke deine Ideen klar und respektvoll aus.",
    chatRulesFooter: "Durch die Teilnahme an diesem Chat stimmst du zu, diese Werte zu befolgen. Gemeinsam bauen wir eine nachhaltigere und liebevollere Gemeinschaft auf!",
    sendMessage: "Nachricht senden",
    typeMessage: "Schreibe deine Nachricht...",
    onlineUsers: "Benutzer online",
    joinConversation: "Der Unterhaltung beitreten",
    welcomeMessage: "Willkommen im EcoNexo Community-Chat! üåø",
    topicForums: "Themen-Foren",
    recommendations: "Empfehlungen",
    popularDiscussions: "Beliebte Diskussionen",
    joinActiveConversations: "Schlie√üe dich den aktivsten Gespr√§chen an",
    newProjects: "Neue Projekte",
    discoverLatestInitiatives: "Entdecke die neuesten nachhaltigen Initiativen",
    eventsNearYou: "Events in deiner N√§he",
    findLocalEvents: "Finde lokale Veranstaltungen und Treffen",
    currentTopic: "Aktuelles Thema",
    profile: "Profil",
    myProfile: "Mein Profil",
    editProfile: "Profil bearbeiten",
    personalInformation: "Pers√∂nliche Informationen",
    profilePhoto: "Profilfoto",
    changePhoto: "Foto √§ndern",
    uploadPhoto: "Foto hochladen",
    firstName: "Vorname",
    lastName: "Nachname",
    aboutMe: "√úber mich",
    passions: "Leidenschaften",
    passionsPlaceholder: "Z.B.: Nachhaltigkeit, Erneuerbare Energien, Naturschutz...",
    areasOfExpertise: "Fachgebiete",
    expertisePlaceholder: "Z.B.: Umwelttechnik, Bildung, √ñkologische Landwirtschaft...",
    hobbies: "Hobbys",
    hobbiesPlaceholder: "Z.B.: G√§rtnern, Wandern, Naturfotografie...",
    interests: "Interessen",
    interestsPlaceholder: "Z.B.: Klimawandel, Biodiversit√§t, Gr√ºne Technologie...",
    skills: "F√§higkeiten",
    skillsPlaceholder: "Z.B.: F√ºhrung, Kommunikation, Datenanalyse...",
    languages: "Sprachen",
    languagesPlaceholder: "Z.B.: Spanisch, Englisch, Deutsch...",
    socialMedia: "Soziale Medien",
    linkedin: "LinkedIn",
    twitter: "Twitter",
    instagram: "Instagram",
    website: "Website",
    saveChanges: "√Ñnderungen speichern",
    cancel: "Abbrechen",
    profileUpdated: "Profil erfolgreich aktualisiert",
    profileError: "Fehler beim Aktualisieren des Profils",
    // Event Details
    backToEvents: "Zur√ºck zu Veranstaltungen",
    volunteerProgress: "Freiwilligenfortschritt",
    spotsLeft: "Pl√§tze verf√ºgbar",
    fullyBooked: "Ausgebucht",
    joinEvent: "Veranstaltung beitreten",
    shareEvent: "Veranstaltung teilen",
    viewEvent: "Veranstaltung ansehen",
    time: "Zeit",
    location: "Ort",
    contact: "Kontakt",
    requirements: "Anforderungen",
    // Registration form
    registerForEvent: "F√ºr Veranstaltung anmelden",
    event: "Veranstaltung",
    close: "Schlie√üen",
    fullName: "Vollst√§ndiger Name",
    phoneNumber: "Telefonnummer",
    beginner: "Anf√§nger/in",
    intermediate: "Fortgeschritten",
    expert: "Experte/Expertin",
    emergencyContact: "Notfallkontakt",
    emergencyContactName: "Name des Notfallkontakts",
    emergencyContactPhone: "Notfalltelefon",
    additionalInformation: "Zus√§tzliche Informationen",
    motivationToParticipate: "Warum m√∂chtest du an dieser Veranstaltung teilnehmen?",
    dietaryRestrictions: "Ern√§hrungseinschr√§nkungen (optional)",
    accessibilityNeeds: "Barrierefreiheitsbed√ºrfnisse (optional)",
    consents: "Einwilligungen",
    photoVideoConsent: "Ich erlaube die Nutzung meines Bildes in Fotos/Videos der Veranstaltung zu Werbezwecken",
    acceptTerms: "Ich akzeptiere die Allgemeinen Gesch√§ftsbedingungen und die Datenschutzerkl√§rung",
    register: "Anmelden",
    registering: "Wird angemeldet...",
    // Validation
    fullNameRequired: "Der Name ist erforderlich",
    emailRequired: "E‚ÄëMail ist erforderlich",
    emailInvalid: "E‚ÄëMail ist ung√ºltig",
    phoneRequired: "Telefonnummer ist erforderlich",
    phoneInvalid: "Telefonnummer ist ung√ºltig",
    emergencyContactNameRequired: "Notfallkontakt ist erforderlich",
    emergencyContactPhoneRequired: "Notfalltelefon ist erforderlich",
    motivationRequired: "Bitte erkl√§re, warum du teilnehmen m√∂chtest",
    termsRequired: "Du musst die AGB akzeptieren",
    // Social
    saveProfile: "Profil speichern",
    bio: "Biografie",
    language: "Sprache",
    chats: "Chats",
    newMessage: "Neue Nachricht",
    send: "Senden",
    startChat: "Chat starten",
  },
};

const I18nContext = createContext<{ t: (k: string) => string; locale: Locale; setLocale: (l: Locale) => void } | null>(null);

export function I18nProvider({ children }: { children: React.ReactNode }) {
  const [locale, setLocaleState] = useState<Locale>("de");
  useEffect(() => {
    try {
      if (typeof window !== "undefined") {
        const saved = localStorage.getItem("econexo:locale") as Locale | null;
        if (saved) setLocaleState(saved);
      }
    } catch {}
  }, []);
  const t = useMemo(() => {
    const dict = DICTS[locale] || DICTS.de;
    return (k: string) => dict[k] ?? k;
  }, [locale]);
  const value = useMemo(
    () => ({
      t,
      locale,
      setLocale: (l: Locale) => {
        try {
          if (typeof window !== "undefined") localStorage.setItem("econexo:locale", l);
        } catch {}
        setLocaleState(l);
      },
    }),
    [t, locale]
  );
  return React.createElement(I18nContext.Provider, { value }, children as any);
}

export function useI18n() {
  const ctx = useContext(I18nContext);
  if (!ctx) throw new Error("I18nProvider missing");
  return ctx;
}

const CATEGORY_MAP: Record<string, { en: string; de: string }> = {
  "Medio ambiente": { en: "Environment", de: "Umwelt" },
  "Educaci√≥n": { en: "Education", de: "Bildung" },
  "Salud": { en: "Health", de: "Gesundheit" },
  "Comunidad": { en: "Community", de: "Gemeinschaft" },
  "Oc√©anos": { en: "Oceans", de: "Ozeane" },
  "Alimentaci√≥n": { en: "Food", de: "Ern√§hrung" },
};

export function categoryLabel(original: string, locale: Locale) {
  if (locale === "es") return original;
  const m = CATEGORY_MAP[original];
  if (!m) return original;
  return (m as any)[locale] || original;
}

// Impact tags translations from Spanish labels used in data
const IMPACT_TAG_MAP: Record<string, { en: string; de: string }> = {
  "Reforestaci√≥n": { en: "Reforestation", de: "Aufforstung" },
  "Calidad del aire": { en: "Air quality", de: "Luftqualit√§t" },
  STEM: { en: "STEM", de: "STEM" },
  "Inclusi√≥n": { en: "Inclusion", de: "Inklusion" },
  "Prevenci√≥n": { en: "Prevention", de: "Pr√§vention" },
  "Acceso": { en: "Access", de: "Zugang" },
  "Integraci√≥n": { en: "Integration", de: "Integration" },
  "Cultura": { en: "Culture", de: "Kultur" },
  "Playas limpias": { en: "Clean beaches", de: "Saubere Str√§nde" },
  "Biodiversidad": { en: "Biodiversity", de: "Biodiversit√§t" },
  "Huertos urbanos": { en: "Urban gardens", de: "Urbane G√§rten" },
  "Comunidad": { en: "Community", de: "Gemeinschaft" },
};

export function impactTagLabel(original: string, locale: Locale) {
  if (locale === "es") return original;
  const m = IMPACT_TAG_MAP[original];
  if (!m) return original;
  return (m as any)[locale] || original;
}

// Optional per-project description translations for fallback/demo content
const PROJECT_DESCRIPTION_MAP: Record<string, { en: string; de: string }> = {
  p1: {
    en: "Planting native trees in neighborhoods lacking green areas, engaging schools and local organizations.",
    de: "Pflanzung einheimischer B√§ume in Vierteln mit wenig Gr√ºnfl√§chen, unter Einbindung von Schulen und lokalen Organisationen.",
  },
  p2: {
    en: "STEAM program for at‚Äërisk youth focusing on prototyping and computational thinking.",
    de: "STEAM‚ÄëProgramm f√ºr benachteiligte Jugendliche mit Schwerpunkt auf Prototyping und Computational Thinking.",
  },
  p3: {
    en: "Mobile primary care with a focus on prevention and basic check‚Äëups in peripheral neighborhoods.",
    de: "Mobile Grundversorgung mit Fokus auf Pr√§vention und Basis‚ÄëChecks in Randbezirken.",
  },
  p4: {
    en: "Coastal clean‚Äëups, microplastic monitoring, and environmental education for tourists and residents.",
    de: "K√ºstenreinigung, Mikroplastik‚ÄëMonitoring und Umweltbildung f√ºr Tourist:innen und Einwohner:innen.",
  },
  p5: {
    en: "Network of community gardens to strengthen food security and promote sustainable diets.",
    de: "Netzwerk von Gemeinschaftsg√§rten zur St√§rkung der Ern√§hrungssicherheit und F√∂rderung nachhaltiger Ern√§hrung.",
  },
  p6: {
    en: "Creation of community centers with cultural programming and integration workshops for new residents.",
    de: "Aufbau von Nachbarschaftszentren mit Kulturprogramm und Integrationsworkshops f√ºr neue Einwohner:innen.",
  },
};

export function projectDescriptionLabel(projectId: string, original: string, locale: Locale) {
  if (locale === "es") return original;
  const m = PROJECT_DESCRIPTION_MAP[projectId];
  if (!m) return original;
  return (m as any)[locale] || original;
}

// Translations for demo project names (as displayed on the map)
const PROJECT_NAME_MAP: Record<string, { en: string; de: string }> = {
  p1: { en: "Berlin Urban Reforestation", de: "Urbane Aufforstung Berlin" },
  p2: { en: "Educational Robotics Workshop", de: "Workshop f√ºr Bildungsrobotik" },
  p3: { en: "Community Mobile Clinic", de: "Mobile Gemeinschaftsklinik" },
  p4: { en: "Beach Recovery", de: "Strandaufbereitung" },
  p5: { en: "Urban Gardens", de: "Urbane G√§rten" },
  p6: { en: "Inclusive Neighborhood Centers", de: "Inklusive Nachbarschaftszentren" },
};

export function projectNameLabel(projectId: string, original: string, locale: Locale) {
  if (locale === "es") return original;
  const m = PROJECT_NAME_MAP[projectId];
  if (!m) return original;
  return (m as any)[locale] || original;
}

// Location translations
const LOCATION_MAP: Record<string, { en: string; de: string }> = {
  // Cities
  "Berl√≠n": { en: "Berlin", de: "Berlin" },
  "Madrid": { en: "Madrid", de: "Madrid" },
  "Barcelona": { en: "Barcelona", de: "Barcelona" },
  "Mil√°n": { en: "Milan", de: "Mailand" },
  "Marsella": { en: "Marseille", de: "Marseille" },
  "Par√≠s": { en: "Paris", de: "Paris" },
  "Londres": { en: "London", de: "London" },
  "Roma": { en: "Rome", de: "Rom" },
  "√Åmsterdam": { en: "Amsterdam", de: "Amsterdam" },
  "Viena": { en: "Vienna", de: "Wien" },
  "Praga": { en: "Prague", de: "Prag" },
  "Varsovia": { en: "Warsaw", de: "Warschau" },
  "Budapest": { en: "Budapest", de: "Budapest" },
  "Lisboa": { en: "Lisbon", de: "Lissabon" },
  "Dubl√≠n": { en: "Dublin", de: "Dublin" },
  "Estocolmo": { en: "Stockholm", de: "Stockholm" },
  "Oslo": { en: "Oslo", de: "Oslo" },
  "Copenhague": { en: "Copenhagen", de: "Kopenhagen" },
  "Helsinki": { en: "Helsinki", de: "Helsinki" },
  "Atenas": { en: "Athens", de: "Athen" },
  "Z√∫rich": { en: "Zurich", de: "Z√ºrich" },
  
  // Countries
  "Alemania": { en: "Germany", de: "Deutschland" },
  "Espa√±a": { en: "Spain", de: "Spanien" },
  "Italia": { en: "Italy", de: "Italien" },
  "Francia": { en: "France", de: "Frankreich" },
  "Reino Unido": { en: "United Kingdom", de: "Vereinigtes K√∂nigreich" },
  "Pa√≠ses Bajos": { en: "Netherlands", de: "Niederlande" },
  "Austria": { en: "Austria", de: "√ñsterreich" },
  "Rep√∫blica Checa": { en: "Czech Republic", de: "Tschechische Republik" },
  "Polonia": { en: "Poland", de: "Polen" },
  "Hungr√≠a": { en: "Hungary", de: "Ungarn" },
  "Portugal": { en: "Portugal", de: "Portugal" },
  "Irlanda": { en: "Ireland", de: "Irland" },
  "Suecia": { en: "Sweden", de: "Schweden" },
  "Noruega": { en: "Norway", de: "Norwegen" },
  "Dinamarca": { en: "Denmark", de: "D√§nemark" },
  "Finlandia": { en: "Finland", de: "Finnland" },
  "Grecia": { en: "Greece", de: "Griechenland" },
  "Suiza": { en: "Switzerland", de: "Schweiz" },
  "B√©lgica": { en: "Belgium", de: "Belgien" },
  "Luxemburgo": { en: "Luxembourg", de: "Luxemburg" },
};

export function locationLabel(original: string, locale: Locale) {
  if (locale === "es") return original;
  const m = LOCATION_MAP[original];
  if (!m) return original;
  return (m as any)[locale] || original;
}

